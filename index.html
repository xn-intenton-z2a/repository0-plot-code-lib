<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>repository0-plot-code-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>repository0-plot-code-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/repository0-plot-code-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/repository0-plot-code-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/repository0-plot-code-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="repository0-plot-code-lib" href="#repository0-plot-code-lib"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>repository0-plot-code-lib</h1>
<p class="md-github">&quot;<em class="md-github">Be a go-to plot library with a CLI, be the jq of formulae visualisations.</em>&quot;</p>
<hr class="md-github">
<h2 class="md-github"><a class="md-github__anchor" name="usage" href="#usage"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<p class="md-github">You can use the library either as a JavaScript module or via the CLI. The CLI output is enhanced with ANSI colors to improve message clarity.</p>
<h3 class="md-github"><a class="md-github__anchor" name="as-a-js-library" href="#as-a-js-library"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>As a JS Library</h3>
<p class="md-github">Import the main function and pass arguments as an array. Note that in the event of errors, the function will throw exceptions rather than exiting the process. This allows the consuming code to handle errors as needed.</p>
<pre class="md-github"><code class="md-github language-js">import { main } from '@src/lib/main.js';

(async () =&gt; {
  try {
    await main(['arg1', 'arg2']);
  } catch (error) {
    // Handle error accordingly
    console.error('An error occurred:', error);
  }
})();
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="command-line-interface-cli" href="#command-line-interface-cli"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Command Line Interface (CLI)</h3>
<p class="md-github">Run the CLI directly. A dedicated CLI wrapper catches errors thrown by the main function and exits the process, ensuring proper CLI behavior.</p>
<pre class="md-github"><code class="md-github language-bash">repository0-plot-code-lib arg1 arg2
</code></pre>
<p class="md-github">If no arguments are provided, the CLI will display a colored usage message. However, you can set default arguments in a global configuration file to be used when no CLI arguments are provided.</p>
<pre class="md-github"><code class="md-github">(No arguments provided message in colored output, or default arguments if configured)
Usage: repository0-plot-code-lib &lt;arguments&gt;
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="numeric-argument-validation" href="#numeric-argument-validation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Numeric Argument Validation</h3>
<p class="md-github">The CLI supports numeric validation via the <code class="md-github">--number=VALUE</code> flag. The following number formats are supported:</p>
<ul class="md-github">
<li class="md-github">Standard numbers (e.g., <code class="md-github">42</code>)</li>
<li class="md-github">Scientific notation (e.g., <code class="md-github">1e3</code>)</li>
<li class="md-github">Numbers with underscores for readability (e.g., <code class="md-github">1_000</code>)</li>
<li class="md-github">Numbers with commas as thousand separators (e.g., <code class="md-github">1,000</code>)</li>
</ul>
<p class="md-github">The CLI validates numeric values by normalizing the input (trimming whitespace and removing underscores and commas) and then attempting a numeric conversion. If the conversion fails, a clear error message is provided. In verbose mode (or when <code class="md-github">LOG_LEVEL</code> is set to <code class="md-github">debug</code>), the error message includes a full stack trace to aid in debugging.</p>
<p class="md-github">For example:</p>
<pre class="md-github"><code class="md-github language-bash">repository0-plot-code-lib --number=42
</code></pre>
<p class="md-github">If an invalid numeric value is provided:</p>
<pre class="md-github"><code class="md-github language-bash">repository0-plot-code-lib --number=NaN
</code></pre>
<p class="md-github">The CLI will output a clear error message, with additional stack trace details in verbose mode.</p>
<h3 class="md-github"><a class="md-github__anchor" name="automatic-error-reporting" href="#automatic-error-reporting"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatic Error Reporting</h3>
<p class="md-github">When an error occurs, the CLI supports automatic error report submission. If the configuration parameter <code class="md-github">ERROR_REPORTING_URL</code> is defined (either in the global configuration file <code class="md-github">.repository0plotconfig.json</code> or via the environment variable), the CLI will automatically submit a POST request with extended error details including:</p>
<ul class="md-github">
<li class="md-github"><strong class="md-github">errorMessage</strong>: The error message.</li>
<li class="md-github"><strong class="md-github">stackTrace</strong>: The error's stack trace (if available).</li>
<li class="md-github"><strong class="md-github">cliArgs</strong>: The CLI arguments provided.</li>
<li class="md-github"><strong class="md-github">libraryVersion</strong>: The current version of the library (sourced from package.json).</li>
<li class="md-github"><strong class="md-github">timestamp</strong>: The ISO timestamp when the error occurred.</li>
<li class="md-github"><strong class="md-github">envContext</strong>: Additional environment variables that can help diagnose issues (e.g., NODE_ENV, CLI_COLOR_SCHEME, LOG_LEVEL, HOME).</li>
</ul>
<p class="md-github">The CLI awaits the completion of the error reporting process before exiting, ensuring that error reports are fully transmitted even under slow network conditions.</p>
<p class="md-github">Example configuration snippet:</p>
<pre class="md-github"><code class="md-github language-json">{
  &quot;ERROR_REPORTING_URL&quot;: &quot;http://example.com/report&quot;,
  &quot;CLI_COLOR_SCHEME&quot;: &quot;dark&quot;,
  &quot;LOG_LEVEL&quot;: &quot;debug&quot;,
  &quot;defaultArgs&quot;: [&quot;defaultArg1&quot;, &quot;defaultArg2&quot;]
}
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="global-configuration-file-support" href="#global-configuration-file-support"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Global Configuration File Support</h3>
<p class="md-github">A new feature allows you to set persistent default options without having to specify them every time you run the CLI.</p>
<p class="md-github">The CLI will look for a global configuration file named <code class="md-github">.repository0plotconfig.json</code> in the current working directory and in your home directory (using the <code class="md-github">HOME</code> or <code class="md-github">USERPROFILE</code> environment variable). This file enforces a strict schema. Supported configuration keys are:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">CLI_COLOR_SCHEME</code> (string, e.g., &quot;dark&quot;, &quot;light&quot;, or &quot;default&quot;)</li>
<li class="md-github"><code class="md-github">LOG_LEVEL</code> (string, e.g., &quot;debug&quot;, &quot;info&quot;, etc.)</li>
<li class="md-github"><code class="md-github">ERROR_REPORTING_URL</code> (string, must be a valid URL)</li>
<li class="md-github"><code class="md-github">defaultArgs</code> (array of strings)</li>
</ul>
<p class="md-github">If the configuration file does not adhere to this schema, the CLI will log a clear error message and revert to default settings.</p>
<p class="md-github">Additionally, you can use the new <code class="md-github">--show-config</code> flag to display the effective global configuration being applied by the CLI. This outputs a formatted JSON showing the merged configuration from config files and environment variables.</p>
<h4 class="md-github"><a class="md-github__anchor" name="example-repository0plotconfigjson-file" href="#example-repository0plotconfigjson-file"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example <code class="md-github">.repository0plotconfig.json</code> file:</h4>
<pre class="md-github"><code class="md-github language-json">{
  &quot;CLI_COLOR_SCHEME&quot;: &quot;dark&quot;,
  &quot;LOG_LEVEL&quot;: &quot;debug&quot;,
  &quot;ERROR_REPORTING_URL&quot;: &quot;http://example.com/report&quot;,
  &quot;defaultArgs&quot;: [&quot;defaultArg1&quot;, &quot;defaultArg2&quot;]
}
</code></pre>
<hr class="md-github">
<h2 class="md-github"><a class="md-github__anchor" name="license" href="#license"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p class="md-github">MIT</p>

  </section>
  <footer>
    <p>Generated on 2025-04-10T21:59:17.328Z</p>
  </footer>
</body>
</html>