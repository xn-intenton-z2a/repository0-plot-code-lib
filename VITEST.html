<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="vitest" href="#vitest"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>VITEST</h1>
<h2 class="md-github"><a class="md-github__anchor" name="crawl-summary" href="#crawl-summary"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crawl Summary</h2>
<p class="md-github">Vitest framework provides Vite-native testing with ESM, TS, JSX support. Installation commands, file naming conventions (.test. / .spec.), integration with Vite config (vite.config.ts or vitest.config.ts), CLI options (--config, --watch, --globals), workspace configuration syntax, detailed server.deps and environment properties, and troubleshooting instructions for bundling and dependency issues are specified.</p>
<h2 class="md-github"><a class="md-github__anchor" name="normalised-extract" href="#normalised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Normalised Extract</h2>
<p class="md-github">Table of Contents:</p>
<ol class="md-github">
<li class="md-github">Installation &amp; Setup
<ul class="md-github">
<li class="md-github">Commands: npm install -D vitest, yarn add -D vitest</li>
<li class="md-github">Requirements: Vite &gt;= v5.0.0, Node &gt;= v18.0.0</li>
<li class="md-github">Use npx vitest for direct execution</li>
</ul>
</li>
<li class="md-github">Writing Tests
<ul class="md-github">
<li class="md-github">File naming: .test. or .spec.</li>
<li class="md-github">Basic test structure using expect and test from vitest</li>
<li class="md-github">Package.json script: &quot;test&quot;: &quot;vitest&quot;</li>
</ul>
</li>
<li class="md-github">Configuration
<ul class="md-github">
<li class="md-github">Using root vite.config.ts: Uses plugins, resolve.alias</li>
<li class="md-github">Separate vitest.config.ts with defineConfig from vitest/config</li>
<li class="md-github">Merging config via mergeConfig</li>
<li class="md-github">Key properties: include, exclude, globals, workspace</li>
</ul>
</li>
<li class="md-github">Server &amp; Dependency Options
<ul class="md-github">
<li class="md-github">server.deps.external: Default [//node_modules//]</li>
<li class="md-github">server.deps.inline: Option to inline modules; true to process all</li>
<li class="md-github">deps.optimizer: Bundler options with mode-specific settings (ssr for node, web for jsdom)</li>
</ul>
</li>
<li class="md-github">Environment Options
<ul class="md-github">
<li class="md-github">environment: 'node', 'jsdom', 'happy-dom', 'edge-runtime'</li>
<li class="md-github">Custom environment creation via vitest-environment-{name} with defined setup and teardown</li>
</ul>
</li>
<li class="md-github">CLI and Watch Mode
<ul class="md-github">
<li class="md-github">CLI flags: --config, --watch, --globals</li>
<li class="md-github">Default behavior in interactive vs CI environments</li>
</ul>
</li>
<li class="md-github">Workspaces
<ul class="md-github">
<li class="md-github">Defining workspaces with glob patterns or specific config objects</li>
</ul>
</li>
<li class="md-github">Best Practices &amp; Troubleshooting
<ul class="md-github">
<li class="md-github">Debug dependency issues using cacheDir and optimizer.force flags</li>
<li class="md-github">Using proper command for Bun package manager (bun run test)</li>
<li class="md-github">TS configuration for globals and environment types</li>
</ul>
</li>
</ol>
<p class="md-github">Each topic includes explicit commands, configuration values, and code patterns directly usable in projects.</p>
<h2 class="md-github"><a class="md-github__anchor" name="supplementary-details" href="#supplementary-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplementary Details</h2>
<p class="md-github">Installation: npm install -D vitest; requires Vite &gt;=v5.0.0, Node &gt;=v18.0.0. Test file must have .test. or .spec. extension. package.json script: { &quot;scripts&quot;: { &quot;test&quot;: &quot;vitest&quot; } }.</p>
<p class="md-github">Configuration in vitest.config.ts (or vite.config.ts with test property):
import { defineConfig } from 'vitest/config'
export default defineConfig({
test: {
include: ['<strong class="md-github">/*.{test,spec}.?(c|m)[jt]s?(x)'],
exclude: ['</strong>/node_modules/<strong class="md-github">', '</strong>/dist/<strong class="md-github">', '</strong>/cypress/<strong class="md-github">', '</strong>/.{idea,git,cache,output,temp}/<strong class="md-github">', '</strong>/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build,eslint,prettier}.config.<em class="md-github">'],
globals: false,
environment: 'node',
workspace: [
'packages/</em>',
'tests/*/vitest.config.{e2e,unit}.ts',
{ test: { name: 'happy-dom', root: './shared_tests', environment: 'happy-dom', setupFiles: ['./setup.happy-dom.ts'] } },
{ test: { name: 'node', root: './shared_tests', environment: 'node', setupFiles: ['./setup.node.ts'] } }
]
},
server: {
sourcemap: 'inline',
deps: {
external: [//node_modules//],
inline: []
}
}
})</p>
<p class="md-github">CLI: vitest --config ./path/to/config; vitest run to run once without watch mode; use --watch to enable file watching.</p>
<p class="md-github">Troubleshooting: For dependency issues, check cacheDir (default 'node_modules/.vite'); use environment variable VITEST_SKIP_INSTALL_CHECKS=1 to skip dependency installation checks; use bun run test if using Bun.</p>
<p class="md-github">Best Practices: Use same file for Vite and Vitest if possible; add triple slash reference (e.g., /// <reference types="vitest/config" />) at the top of config files; add vitest/globals to tsconfig types when enabling globals.</p>
<h2 class="md-github"><a class="md-github__anchor" name="reference-details" href="#reference-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference Details</h2>
<p class="md-github">API Specifications:</p>
<p class="md-github">Method: defineConfig from vitest/config
Signature: import { defineConfig } from 'vitest/config';
Return: Config object with a test property containing configuration parameters.</p>
<p class="md-github">Example:
import { defineConfig } from 'vitest/config'
export default defineConfig({
test: {
include: ['<strong class="md-github">/*.{test,spec}.?(c|m)[jt]s?(x)'],
exclude: ['</strong>/node_modules/<strong class="md-github">', '</strong>/dist/**'],
globals: true,
environment: 'jsdom',
// Additional CLI based properties
reporters: 'default',
watch: true,
update: false
},
server: {
sourcemap: 'inline',
deps: {
external: [//node_modules//],
inline: [],
fallbackCJS: false,
cacheDir: 'node_modules/.vite'
}
}
})</p>
<p class="md-github">CLI Options:
--config: Specifies path to configuration file
--watch: Enable watch mode (default true in interactive)
--globals: Set to true to expose global APIs
--port, --https: Additional options for server</p>
<p class="md-github">Full Code Example for a Test:
// sum.js
export function sum(a, b) {
return a + b
}</p>
<p class="md-github">// sum.test.js
import { expect, test } from 'vitest'
import { sum } from './sum.js'</p>
<p class="md-github">test('adds 1 + 2 to equal 3', () =&gt; {
expect(sum(1, 2)).toBe(3)
})</p>
<p class="md-github">Configuration for Workspaces:
import { defineConfig } from 'vitest/config'
export default defineConfig({
test: {
workspace: [
'packages/<em class="md-github">',
'tests/</em>/vitest.config.{e2e,unit}.ts',
{ test: { name: 'happy-dom', root: './shared_tests', environment: 'happy-dom', setupFiles: ['./setup.happy-dom.ts'] } },
{ test: { name: 'node', root: './shared_tests', environment: 'node', setupFiles: ['./setup.node.ts'] } }
]
}
})</p>
<p class="md-github">Troubleshooting Procedures:</p>
<ol class="md-github">
<li class="md-github">If tests do not run, verify file naming conventions and package.json script configuration.</li>
<li class="md-github">For dependency errors, run: npm install -D vitest, and check that Vite &gt;= v5.0.0 and Node &gt;= v18.0.0.</li>
<li class="md-github">For bundling issues, examine node_modules/.vite cache and enable deps.optimizer.force option.</li>
<li class="md-github">To debug with Bun, execute: bun run test.</li>
</ol>
<p class="md-github">Best Practices:</p>
<ul class="md-github">
<li class="md-github">Use unified configuration file if possible.</li>
<li class="md-github">Add triple slash directives for type resolution: /// <reference types="vitest/config" /></li>
<li class="md-github">Use environment variable VITEST_SKIP_INSTALL_CHECKS=1 to disable auto dependency installation checks when necessary.</li>
<li class="md-github">Ensure tsconfig.json includes &quot;vitest/globals&quot; for type definitions when using globals.</li>
</ul>
<p class="md-github">SDK Method Signatures:
Method: mergeConfig
Signature: import { mergeConfig } from 'vitest/config'
Parameter: viteConfig (object), vitestConfig (object)
Return: Merged configuration object.</p>
<h2 class="md-github"><a class="md-github__anchor" name="information-dense-extract" href="#information-dense-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Information Dense Extract</h2>
<p class="md-github">Vitest: Installation (npm/yarn/pnpm/bun), Requirements (Vite&gt;=5.0.0, Node&gt;=18.0.0); Test File Naming: .test. or .spec.; Config via defineConfig({ test: { include, exclude, globals, environment, workspace } }); CLI flags: --config, --watch, --globals; Server options: server.sourcemap: 'inline', server.deps: { external: [//node_modules//], inline: [] }; Dependency optimizer options; Environment options: 'node', 'jsdom', 'happy-dom', custom via vitest-environment-{name}; Code examples provided for tests, configuration, workspace merging; Troubleshooting: check file naming, cacheDir, VITEST_SKIP_INSTALL_CHECKS; API: defineConfig, mergeConfig with full signatures and sample usage.</p>
<h2 class="md-github"><a class="md-github__anchor" name="sanitised-extract" href="#sanitised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sanitised Extract</h2>
<p class="md-github">Table of Contents:</p>
<ol class="md-github">
<li class="md-github">Installation &amp; Setup
<ul class="md-github">
<li class="md-github">Commands: npm install -D vitest, yarn add -D vitest</li>
<li class="md-github">Requirements: Vite &gt;= v5.0.0, Node &gt;= v18.0.0</li>
<li class="md-github">Use npx vitest for direct execution</li>
</ul>
</li>
<li class="md-github">Writing Tests
<ul class="md-github">
<li class="md-github">File naming: .test. or .spec.</li>
<li class="md-github">Basic test structure using expect and test from vitest</li>
<li class="md-github">Package.json script: 'test': 'vitest'</li>
</ul>
</li>
<li class="md-github">Configuration
<ul class="md-github">
<li class="md-github">Using root vite.config.ts: Uses plugins, resolve.alias</li>
<li class="md-github">Separate vitest.config.ts with defineConfig from vitest/config</li>
<li class="md-github">Merging config via mergeConfig</li>
<li class="md-github">Key properties: include, exclude, globals, workspace</li>
</ul>
</li>
<li class="md-github">Server &amp; Dependency Options
<ul class="md-github">
<li class="md-github">server.deps.external: Default [/'/node_modules'//]</li>
<li class="md-github">server.deps.inline: Option to inline modules; true to process all</li>
<li class="md-github">deps.optimizer: Bundler options with mode-specific settings (ssr for node, web for jsdom)</li>
</ul>
</li>
<li class="md-github">Environment Options
<ul class="md-github">
<li class="md-github">environment: 'node', 'jsdom', 'happy-dom', 'edge-runtime'</li>
<li class="md-github">Custom environment creation via vitest-environment-{name} with defined setup and teardown</li>
</ul>
</li>
<li class="md-github">CLI and Watch Mode
<ul class="md-github">
<li class="md-github">CLI flags: --config, --watch, --globals</li>
<li class="md-github">Default behavior in interactive vs CI environments</li>
</ul>
</li>
<li class="md-github">Workspaces
<ul class="md-github">
<li class="md-github">Defining workspaces with glob patterns or specific config objects</li>
</ul>
</li>
<li class="md-github">Best Practices &amp; Troubleshooting
<ul class="md-github">
<li class="md-github">Debug dependency issues using cacheDir and optimizer.force flags</li>
<li class="md-github">Using proper command for Bun package manager (bun run test)</li>
<li class="md-github">TS configuration for globals and environment types</li>
</ul>
</li>
</ol>
<p class="md-github">Each topic includes explicit commands, configuration values, and code patterns directly usable in projects.</p>
<h2 class="md-github"><a class="md-github__anchor" name="original-source" href="#original-source"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Original Source</h2>
<p class="md-github">Vitest Documentation
https://vitest.dev/</p>
<h2 class="md-github"><a class="md-github__anchor" name="digest-of-vitest" href="#digest-of-vitest"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digest of VITEST</h2>
<h1 class="md-github"><a class="md-github__anchor" name="vitest-documentation" href="#vitest-documentation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Vitest Documentation</h1>
<h3 class="md-github"><a class="md-github__anchor" name="overview" href="#overview"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h3>
<p class="md-github">Vitest is a next generation testing framework powered by Vite. It supports ESM, TypeScript, and JSX out-of-box, and integrates with Vite’s configuration, including plugins and alias resolution. Vitest is compatible with Jest, offering expect, snapshot, and coverage features with a smart instant watch mode.</p>
<h3 class="md-github"><a class="md-github__anchor" name="installation--setup" href="#installation--setup"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation &amp; Setup</h3>
<p class="md-github">To add Vitest, execute one of these commands:
npm install -D vitest
yarn add -D vitest
pnpm add -D vitest
bun add -D vitest</p>
<p class="md-github">Vitest requires Vite &gt;= v5.0.0 and Node &gt;= v18.0.0. For running tests directly without installation, use:
npx vitest</p>
<h3 class="md-github"><a class="md-github__anchor" name="writing-tests" href="#writing-tests"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing Tests</h3>
<p class="md-github">Example of a test file using Vitest:</p>
<p class="md-github">File: sum.js
export function sum(a, b) {
return a + b
}</p>
<p class="md-github">File: sum.test.js
import { expect, test } from 'vitest'
import { sum } from './sum.js'</p>
<p class="md-github">test('adds 1 + 2 to equal 3', () =&gt; {
expect(sum(1, 2)).toBe(3)
})</p>
<p class="md-github">Ensure test files contain .test. or .spec. in their filename. Add the following to package.json:</p>
<p class="md-github">{
&quot;scripts&quot;: {
&quot;test&quot;: &quot;vitest&quot;
}
}</p>
<p class="md-github">Run tests with npm run test, yarn test, or pnpm test.</p>
<h3 class="md-github"><a class="md-github__anchor" name="configuring-vitest" href="#configuring-vitest"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuring Vitest</h3>
<p class="md-github">Vitest can use the root Vite config (vite.config.ts) or a separate config file (vitest.config.ts). When using a separate file, use:</p>
<p class="md-github">import { defineConfig } from 'vitest/config'
export default defineConfig({
test: {
// custom configuration
}
})</p>
<p class="md-github">Or merge with existing Vite config using mergeConfig:</p>
<p class="md-github">import { defineConfig, mergeConfig } from 'vitest/config'
import viteConfig from './vite.config.mjs'
export default mergeConfig(viteConfig, defineConfig({
test: {
// additional options
}
}))</p>
<p class="md-github">Main configuration properties include:
include: Glob patterns to match test files (default: &quot;<strong class="md-github">/*.{test,spec}.?(c|m)[jt]s?(x)&quot;)
exclude: Patterns to exclude (default: ['</strong>/node_modules/<strong class="md-github">', '</strong>/dist/**', ...])
globals: Boolean to expose global APIs; set to true for Jest-like global methods.</p>
<h4 class="md-github"><a class="md-github__anchor" name="server-and-dependency-options" href="#server-and-dependency-options"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Server and Dependency Options</h4>
<p class="md-github">Vitest leverages Vite’s transformation pipeline. Key server options include inline source maps, debugging options, and dependency resolution settings such as:
server.deps.external (default: [//node_modules//])
server.deps.inline (string | RegExp array or true for all dependencies)
deps.optimizer settings for bundling external modules.</p>
<h4 class="md-github"><a class="md-github__anchor" name="environment-options" href="#environment-options"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Environment Options</h4>
<p class="md-github">Define test environment via the environment property (node, jsdom, happy-dom, edge-runtime). Specify custom environments by creating a package &quot;vitest-environment-{name}&quot; that exports an Environment object with setup and teardown steps.</p>
<h4 class="md-github"><a class="md-github__anchor" name="cli--watch-mode" href="#cli--watch-mode"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI &amp; Watch Mode</h4>
<p class="md-github">Vitest binary can be invoked in npm scripts. Common CLI flags include:
--config to specify a config file
--watch to enable watch mode (default in interactive terminals)
--globals=true to expose global test APIs</p>
<h3 class="md-github"><a class="md-github__anchor" name="workspace-support" href="#workspace-support"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Workspace Support</h3>
<p class="md-github">Vitest supports multiple project configurations with workspaces. In vitest.config.ts, define a workspace array of configurations. Example:</p>
<p class="md-github">workspace: [
'packages/<em class="md-github">',
'tests/</em>/vitest.config.{e2e,unit}.ts',
{ test: { name: 'happy-dom', root: './shared_tests', environment: 'happy-dom', setupFiles: ['./setup.happy-dom.ts'] } },
{ test: { name: 'node', root: './shared_tests', environment: 'node', setupFiles: ['./setup.node.ts'] } }
]</p>
<h3 class="md-github"><a class="md-github__anchor" name="troubleshooting--best-practices" href="#troubleshooting--best-practices"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Troubleshooting &amp; Best Practices</h3>
<ul class="md-github">
<li class="md-github">Ensure Vite and Node versions meet requirements.</li>
<li class="md-github">For debugging dependency inlining, check cache in node_modules/.vite and use deps.optimizer.force option.</li>
<li class="md-github">When using Bun, run tests with bun run test instead of bun test to avoid conflicts with Bun's own runner.</li>
<li class="md-github">For type safety with globals, add &quot;vitest/globals&quot; to tsconfig types.</li>
</ul>
<p class="md-github">Retrieved on: 2023-10-XX | Data Size: 43254039 bytes | Links Found: 26454</p>
<h2 class="md-github"><a class="md-github__anchor" name="attribution" href="#attribution"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attribution</h2>
<ul class="md-github">
<li class="md-github">Source: Vitest Documentation</li>
<li class="md-github">URL: https://vitest.dev/</li>
<li class="md-github">License: MIT License</li>
<li class="md-github">Crawl Date: 2025-04-29T01:08:45.522Z</li>
<li class="md-github">Data Size: 43254039 bytes</li>
<li class="md-github">Links Found: 26454</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="retrieved" href="#retrieved"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retrieved</h2>
<p class="md-github">2025-04-29</p>

  </section>
  <footer>
    <p>Generated on 2025-04-29T05:23:21.297Z</p>
  </footer>
</body>
</html>