{
  "model": "o4-mini",
  "messages": [
    {
      "role": "system",
      "content": "You are a documentation updater that returns updated README and documentation file contents to ensure they accurately reflect the current state of the codebase. You can update multiple files by specifying their paths and contents in the updatedFiles object. Answer strictly with a JSON object that adheres to the provided function schema."
    },
    {
      "role": "user",
      "content": "\nYou are providing updates to the README.md file and other documentation files to ensure they accurately reflect the current state of the codebase and emphasize content that delivers substantial user value and addresses core implementation needs.\n\nThe README is the primary focus, but other documentation files can be updated as well if needed. Source files (srcFiles) and test files (testFiles) should NOT be updated.\n\nWhen updating the README:\n1. Preserve existing README content that delivers substantial user value, even if it describes features not yet implemented\n2. Update the README if it conflicts with current source code, tests, or documentation, prioritizing content that directly enhances the product's primary purpose\n3. If documentation files are out of date compared to the source code or tests, update them to be consistent, focusing on high-impact information that enables immediate application rather than superficial descriptions\n4. Ensure documentation clearly communicates the core functionality and value proposition of the product, prioritizing content that helps users solve real problems\n\nApply the contributing guidelines to your response and when suggesting enhancements consider the tone and direction of the contributing guidelines. Focus on documentation improvements that deliver measurable value to users rather than cosmetic changes or excessive detail on edge cases.\n\nYou may only change the files provided in the prompt context. You can update multiple files by specifying their paths and contents in the updatedFiles object. Each file will be checked against the allowedFilepathPatterns before being written.\n\nConsider the following when refining your response:\n  * Current feature names and specifications in the repository\n  * Source file content (for context only)\n  * Test file content (for context only)\n  * Documentation file content\n  * README file content\n  * MISSION file content\n  * Contributing file content\n  * Dependencies file content\n  * Dependency install output\n  * Issue details (if any)\n  * Build output\n  * Test output\n  * Main execution output\n  * Agent configuration file content\n\nCurrent feature names and specifications (for context, read only):\nCURRENT_FEATURES_START\nfeatures/OUTPUT_FORMATS.md\n# features/OUTPUT_FORMATS.md\n# Overview\nExtend the CLI tool and add an HTTP server mode to support multiple output formats: svg, png, json, and csv. Provide a consistent interface across both CLI and HTTP modes, enabling users to export vector or raster images, raw data, or tabular outputs for integration with external workflows.\n\n# CLI Integration\n- Add flag --format <format> with allowed values svg, png, json, csv. Default svg.\n- Retain existing flags --expression, --range, --input, --input-format, --output, and deprecate --png by mapping it to --format png.\n- After parsing args, load or generate data, then branch on format:\n  - svg: generate vector via generateSVG(data, options) and output XML.\n  - png: invoke convertSVGtoPNG on the generated SVG and output binary.\n  - json: serialize { xValues, yValues } to application/json.\n  - csv: implement a generateCSV(data) helper to produce text/csv with header x,y and rows.\n- Write output to stdout or to the file specified by --output, honoring absolute or relative paths.\n\n# HTTP API\n- Introduce flags --serve to enable server mode and --port <number> to specify listening port (default 3000).\n- When --serve is true, spin up an Express app and register a GET /plot endpoint.\n- Accept query parameters: expression, range, input, inputFormat, format, output omitted.\n- Validate required parameters and return 400 with a JSON error on invalid input or missing fields.\n- On success, generate the requested format and set Content-Type accordingly: image/svg+xml, image/png, application/json, or text/csv.\n- Respond with data in the response body without writing to disk.\n\n# Implementation\n- Update parseArgs in src/lib/main.js to include format (enum), serve (boolean), and port (number); deprecate png alias.\n- After data is loaded, pass options.width, height, margin from optional flags if provided.\n- Abstract common generation logic into a helper function to reuse between CLI and HTTP.\n- Use sharp for PNG conversion and Express for server.\n\n# Tests\n- Extend parseArgs tests to cover --format, --serve, --port, and deprecation of --png.\n- Add unit tests for json and csv outputs in tests/unit/plot-generation.test.js:\n  - Verify JSON payload structure and error on empty data.\n  - Verify CSV header and rows.\n- Use supertest to test HTTP API in a new tests/unit/http-api.test.js:\n  - GET /plot?expression=x&range=x=0:2&format=csv returns 200 text/csv and correct CSV.\n  - Test format=json returns application/json with correct body.\n  - Test format=png and format=svg return correct content types and response bodies.\n  - Test error responses for missing expression or bad range.\n\n# Documentation\n- Update README.md and USAGE.md to document --format, --serve, --port and HTTP examples:\n    curl \"http://localhost:3000/plot?expression=x&range=x=0:5:1&format=csv\" > data.csv\n    npx repository0-plot-code-lib --serve --port 4000\n    npx repository0-plot-code-lib --expression \"sin(x)\" --range \"x=0:3\" --format png --output out.png\nfeatures/DATA_INPUT.md\n# features/DATA_INPUT.md\n# Overview\n\nAdd support for importing time series data from external files (JSON or CSV) to generate plots without requiring an expression and range on the command line. This enables users to visualize arbitrary datasets and integrate seamlessly with downstream workflows.\n\n# CLI Integration\n\n- Introduce a new flag --input <file> to specify a path to a JSON or CSV file containing time series data.\n- When --input is provided:\n  - expression and range flags become optional and ignored.\n  - Validate file extension: .json or .csv. Report an error for unsupported formats.\n  - Provide an example usage:\n    npx repository0-plot-code-lib --input data.json --output plot.svg\n    npx repository0-plot-code-lib --input data.csv --format png --output plot.png\n\n# Implementation\n\n- Extend parseArgs in src/lib/main.js to accept input (string) in the args schema.\n- In main:\n  - If parsed.input exists, read the file from disk with fs.readFileSync.\n  - If .json:\n    - JSON.parse to obtain an object with xValues (number[]) and yValues (number[]). Validate array lengths match.\n  - If .csv:\n    - Parse lines by splitting on newlines. Expect header row, e.g., x,y. Use built-in string methods to parse numbers.\n    - Convert columns into xValues and yValues arrays. Throw an error on parse failure or mismatched lengths.\n  - After data is loaded, reuse generateSVG or format logic (with --format) to produce the plot or raw data output.\n  - Honor --format and --output flags as in existing flow.\n  - Print clear error messages for file I/O or parsing issues and exit with non-zero status.\n\n# Tests\n\n- Add unit tests in tests/unit/plot-generation.test.js to cover:\n  - parseArgs correctly parsing --input alongside other flags.\n  - Loading JSON input: create a temporary JSON file with known arrays and verify generateSVG called with correct data.\n  - Loading CSV input: create a temporary CSV file, parse it, and verify data arrays.\n  - Error handling: unsupported extension, invalid JSON, malformed CSV, mismatched array lengths.\n- Ensure the test suite cleans up any temp files and does not interfere with other tests.\n\n# Documentation\n\n- Update README.md and USAGE.md to document the new --input flag, supported formats, examples, and error conditions.\nCURRENT_FEATURES_END\n\nSource files (for context only, DO NOT UPDATE):\nSOURCE_FILES_START\nFile: src/lib/main.js\n#!/usr/bin/env node\n// src/lib/main.js\n\nimport fs from \"fs\";\nimport { fileURLToPath } from \"url\";\nimport path from \"path\";\nimport { z } from \"zod\";\nimport { create, all } from \"mathjs\";\nimport sharp from \"sharp\";\nimport express from \"express\";\n\nconst math = create(all);\n\nexport function parseArgs(args) {\n  const booleanFlags = [\"png\", \"serve\"];\n  const parsed = {};\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n    if (!arg.startsWith(\"--\")) {\n      continue;\n    }\n    const rawKey = arg.slice(2);\n    const key = rawKey.replace(/-([a-z])/g, (_, char) => char.toUpperCase());\n    if (booleanFlags.includes(key)) {\n      parsed[key] = true;\n    } else {\n      const value = args[i + 1];\n      if (value && !value.startsWith(\"--\")) {\n        parsed[key] = value;\n        i++;\n      } else {\n        throw new Error(`Missing value for argument: ${arg}`);\n      }\n    }\n  }\n  const argsSchema = z.object({\n    expression: z.string().optional(),\n    range: z.string().optional(),\n    output: z.string().optional(),\n    input: z.string().optional(),\n    inputFormat: z.enum([\"csv\", \"json\"]).optional(),\n    png: z.boolean().optional(),\n    format: z.enum([\"svg\", \"png\", \"json\", \"csv\"]).optional(),\n    serve: z.boolean().optional(),\n    port: z.preprocess((val) => {\n      if (typeof val === \"string\") {\n        const num = parseInt(val, 10);\n        return Number.isNaN(num) ? val : num;\n      }\n      return val;\n    }, z.number().int().positive().optional()),\n  });\n  return argsSchema.parse(parsed);\n}\n\nexport function parseRange(rangeStr) {\n  const [varName, rangePart] = rangeStr.split(\"=\");\n  if (!varName || !rangePart) {\n    throw new Error(`Invalid range format: ${rangeStr}`);\n  }\n  const parts = rangePart.split(\":\").map((p) => parseFloat(p));\n  const min = parts[0];\n  const max = parts[1];\n  const step = parts.length >= 3 && !Number.isNaN(parts[2]) ? parts[2] : 1;\n  if (Number.isNaN(min) || Number.isNaN(max) || Number.isNaN(step)) {\n    throw new Error(`Invalid range numbers in: ${rangeStr}`);\n  }\n  return { varName, min, max, step };\n}\n\nexport function generateData(expression, { varName, min, max, step }) {\n  const expr = math.parse(expression).compile();\n  const xValues = math.range(min, max, step, true).toArray();\n  const yValues = xValues.map((x) => expr.evaluate({ [varName]: x }));\n  return { xValues, yValues };\n}\n\nexport function generateSVG({ xValues, yValues }, options = {}) {\n  const width = options.width || 800;\n  const height = options.height || 600;\n  const margin = options.margin || 40;\n\n  const minX = Math.min(...xValues);\n  const maxX = Math.max(...xValues);\n  const minY = Math.min(...yValues);\n  const maxY = Math.max(...yValues);\n  const xScale = (width - 2 * margin) / (maxX - minX || 1);\n  const yScale = (height - 2 * margin) / (maxY - minY || 1);\n\n  const points = xValues\n    .map((x, i) => {\n      const y = yValues[i];\n      const px = margin + (x - minX) * xScale;\n      const py = height - margin - (y - minY) * yScale;\n      return `${px},${py}`;\n    })\n    .join(\" \");\n\n  const axes = [\n    `<line x1=\"${margin}\" y1=\"${margin}\" x2=\"${margin}\" y2=\"${height - margin}\" stroke=\"black\"/>`,\n    `<line x1=\"${margin}\" y1=\"${height - margin}\" x2=\"${width - margin}\" y2=\"${height - margin}\" stroke=\"black\"/>`,\n  ];\n\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n  ${axes.join(\"\\n  \")}\n  <polyline fill=\"none\" stroke=\"black\" stroke-width=\"2\" points=\"${points}\"/>\n</svg>`;\n}\n\nexport function parseInputFile(filePath, formatOverride) {\n  const ext = path.extname(filePath).toLowerCase().slice(1);\n  const format = formatOverride || ext;\n  if (![\"csv\", \"json\"].includes(format)) {\n    throw new Error(\"Unsupported input format\");\n  }\n  const content = fs.readFileSync(filePath, \"utf8\");\n  let xValues = [];\n  let yValues = [];\n  if (format === \"csv\") {\n    const lines = content.split(/\\r?\\n/).filter((line) => line.trim() !== \"\");\n    if (lines.length < 2) {\n      throw new Error(\"CSV file must have at least a header and one data row\");\n    }\n    const header = lines[0].split(\",\");\n    if (header[0].trim() !== \"x\" || header[1].trim() !== \"y\") {\n      throw new Error(\"CSV header must be 'x,y'\");\n    }\n    for (let i = 1; i < lines.length; i++) {\n      const cols = lines[i].split(\",\");\n      if (cols.length !== 2) throw new Error(`Invalid CSV row: ${lines[i]}`);\n      const x = parseFloat(cols[0]);\n      const y = parseFloat(cols[1]);\n      if (Number.isNaN(x) || Number.isNaN(y)) throw new Error(`Invalid number in CSV at row ${i + 1}`);\n      xValues.push(x);\n      yValues.push(y);\n    }\n  } else {\n    let parsedJson;\n    try {\n      parsedJson = JSON.parse(content);\n    } catch (err) {\n      throw new Error(`Invalid JSON: ${err.message}`);\n    }\n    if (Array.isArray(parsedJson)) {\n      for (const item of parsedJson) {\n        if (typeof item.x !== \"number\" || typeof item.y !== \"number\") {\n          throw new Error(\"JSON items must have numeric 'x' and 'y' properties\");\n        }\n        xValues.push(item.x);\n        yValues.push(item.y);\n      }\n    } else if (parsedJson.xValues && parsedJson.yValues) {\n      if (!Array.isArray(parsedJson.xValues) || !Array.isArray(parsedJson.yValues)) {\n        throw new Error(\"JSON must have 'xValues' and 'yValues' arrays\");\n      }\n      xValues = parsedJson.xValues;\n      yValues = parsedJson.yValues;\n      if (xValues.length !== yValues.length) {\n        throw new Error(\"Mismatched data lengths\");\n      }\n      if (!xValues.every((x) => typeof x === \"number\") || !yValues.every((y) => typeof y === \"number\")) {\n        throw new Error(\"JSON arrays must contain numbers\");\n      }\n    } else {\n      throw new Error(\"JSON must be an array of {x,y} or an object with xValues and yValues\");\n    }\n  }\n  if (xValues.length !== yValues.length) {\n    throw new Error(\"Mismatched data lengths\");\n  }\n  return { xValues, yValues };\n}\n\nexport async function convertSVGtoPNG(svg) {\n  return sharp(Buffer.from(svg)).png().toBuffer();\n}\n\nexport function generateCSV({ xValues, yValues }) {\n  if (!Array.isArray(xValues) || !Array.isArray(yValues)) {\n    throw new Error(\"Data must have xValues and yValues arrays\");\n  }\n  if (xValues.length === 0 || yValues.length === 0) {\n    throw new Error(\"No data points available\");\n  }\n  if (xValues.length !== yValues.length) {\n    throw new Error(\"Mismatched data lengths\");\n  }\n  const header = \"x,y\";\n  const rows = xValues.map((x, i) => `${x},${yValues[i]}`);\n  return [header, ...rows].join(\"\\n\");\n}\n\nexport function generateJSON(data) {\n  return JSON.stringify(data);\n}\n\nexport async function main(argsParam) {\n  const args = argsParam ?? process.argv.slice(2);\n  if (!args || args.length === 0) {\n    console.log(`Run with: ${JSON.stringify(args)}`);\n    return;\n  }\n  let parsed;\n  try {\n    parsed = parseArgs(args);\n  } catch (err) {\n    console.error(err.message);\n    process.exit(1);\n  }\n  let { format, png, serve, port } = parsed;\n  if (png && !format) {\n    console.warn(\"[DEPRECATED] --png is deprecated, use --format=png\");\n    format = \"png\";\n  }\n  format = format || \"svg\";\n  if (serve) {\n    const app = express();\n    app.get(\"/plot\", async (req, res) => {\n      try {\n        const { expression, range, input, inputFormat, format: qFormat } = req.query;\n        const outFormat = qFormat || format;\n        let data;\n        if (input) {\n          data = parseInputFile(input, inputFormat);\n        } else {\n          if (!expression || !range) {\n            throw new Error(\"Missing expression or range\");\n          }\n          const rng = parseRange(range);\n          data = generateData(expression, rng);\n        }\n        if (outFormat === \"svg\") {\n          const svg = generateSVG(data);\n          res.type(\"image/svg+xml\").send(svg);\n        } else if (outFormat === \"png\") {\n          const svg = generateSVG(data);\n          const buffer = await convertSVGtoPNG(svg);\n          res.type(\"image/png\").send(buffer);\n        } else if (outFormat === \"json\") {\n          res.type(\"application/json\").send(generateJSON(data));\n        } else if (outFormat === \"csv\") {\n          res.type(\"text/csv\").send(generateCSV(data));\n        } else {\n          throw new Error(`Unsupported format: ${outFormat}`);\n        }\n      } catch (err) {\n        res.status(400).json({ error: err.message });\n      }\n    });\n    const listenPort = port || 3000;\n    app.listen(listenPort, () => {\n      console.log(`Server listening on port ${listenPort}`);\n    });\n    return;\n  }\n  let data;\n  if (parsed.input) {\n    try {\n      data = parseInputFile(parsed.input, parsed.inputFormat);\n    } catch (err) {\n      console.error(err.message);\n      process.exit(1);\n    }\n  } else {\n    let rangeObj;\n    try {\n      rangeObj = parseRange(parsed.range);\n    } catch (err) {\n      console.error(err.message);\n      process.exit(1);\n    }\n    try {\n      data = generateData(parsed.expression, rangeObj);\n    } catch (err) {\n      console.error(`Error evaluating expression: ${err.message}`);\n      process.exit(1);\n    }\n  }\n  try {\n    if (format === \"svg\") {\n      const svg = generateSVG(data);\n      if (parsed.output) {\n        const outPath = path.isAbsolute(parsed.output)\n          ? parsed.output\n          : path.resolve(process.cwd(), parsed.output);\n        fs.writeFileSync(outPath, svg, \"utf8\");\n      } else {\n        console.log(svg);\n      }\n    } else if (format === \"png\") {\n      const svg = generateSVG(data);\n      const buffer = await convertSVGtoPNG(svg);\n      if (parsed.output) {\n        const outPath = path.isAbsolute(parsed.output)\n          ? parsed.output\n          : path.resolve(process.cwd(), parsed.output);\n        fs.writeFileSync(outPath, buffer);\n      } else {\n        process.stdout.write(buffer);\n      }\n    } else if (format === \"json\") {\n      const jsonStr = generateJSON(data);\n      if (parsed.output) {\n        const outPath = path.isAbsolute(parsed.output)\n          ? parsed.output\n          : path.resolve(process.cwd(), parsed.output);\n        fs.writeFileSync(outPath, jsonStr, \"utf8\");\n      } else {\n        console.log(jsonStr);\n      }\n    } else if (format === \"csv\") {\n      const csvStr = generateCSV(data);\n      if (parsed.output) {\n        const outPath = path.isAbsolute(parsed.output)\n          ? parsed.output\n          : path.resolve(process.cwd(), parsed.output);\n        fs.writeFileSync(outPath, csvStr, \"utf8\");\n      } else {\n        console.log(csvStr);\n      }\n    } else {\n      console.error(`Unsupported format: ${format}`);\n      process.exit(1);\n    }\n  } catch (err) {\n    console.error(err.message);\n    process.exit(1);\n  }\n}\n\nif (process.argv[1] === fileURLToPath(import.meta.url)) {\n  main(process.argv.slice(2));\n}\n\n\nSOURCE_FILES_END\n\nTest files (for context only, DO NOT UPDATE):\nTEST_FILES_START\nFile: tests/unit/plot-generation.test.js\nimport { describe, test, expect } from \"vitest\";\nimport fs from \"fs\";\nimport os from \"os\";\nimport path from \"path\";\nimport {\n  parseArgs,\n  parseRange,\n  generateData,\n  generateSVG,\n  main,\n  parseInputFile,\n  convertSVGtoPNG,\n  generateCSV,\n  generateJSON,\n} from \"@src/lib/main.js\";\n\ndescribe(\"Main Module Import\", () => {\n  test(\"should be non-null\", () => {\n    expect({\n      parseArgs,\n      parseRange,\n      generateData,\n      generateSVG,\n      main,\n      generateCSV,\n      generateJSON,\n    }).not.toBeNull();\n  });\n});\n\ndescribe(\"parseArgs\", () => {\n  test(\"should parse valid CLI args\", () => {\n    const args = [\n      \"--expression\",\n      \"x*2\",\n      \"--range\",\n      \"x=0:5:2\",\n      \"--output\",\n      \"out.svg\",\n    ];\n    const parsed = parseArgs(args);\n    expect(parsed).toEqual({\n      expression: \"x*2\",\n      range: \"x=0:5:2\",\n      output: \"out.svg\",\n    });\n  });\n  test(\"should parse --format flag\", () => {\n    const args = [\"--format\", \"csv\"];\n    const parsed = parseArgs(args);\n    expect(parsed.format).toBe(\"csv\");\n  });\n  test(\"should alias --png as boolean and warn on format assignment\", () => {\n    const args = [\"--png\"];\n    const parsed = parseArgs(args);\n    expect(parsed.png).toBe(true);\n  });\n  test(\"should parse serve and port flags\", () => {\n    const args = [\"--serve\", \"--port\", \"4000\"];\n    const parsed = parseArgs(args);\n    expect(parsed.serve).toBe(true);\n    expect(parsed.port).toBe(4000);\n  });\n});\n\ndescribe(\"parseRange\", () => {\n  test(\"should parse range string\", () => {\n    const range = \"x=0:5:2\";\n    const result = parseRange(range);\n    expect(result).toEqual({ varName: \"x\", min: 0, max: 5, step: 2 });\n  });\n  test(\"should default step to 1\", () => {\n    const range = \"x=1:3\";\n    const result = parseRange(range);\n    expect(result).toEqual({ varName: \"x\", min: 1, max: 3, step: 1 });\n  });\n});\n\ndescribe(\"generateData\", () => {\n  test(\"should generate data points\", () => {\n    const exp = \"x*2\";\n    const rangeObj = { varName: \"x\", min: 0, max: 4, step: 2 };\n    const data = generateData(exp, rangeObj);\n    expect(data.xValues).toEqual([0, 2, 4]);\n    expect(data.yValues).toEqual([0, 4, 8]);\n  });\n});\n\ndescribe(\"generateSVG\", () => {\n  test(\"should generate SVG with expected tags and points\", () => {\n    const data = { xValues: [0, 1], yValues: [0, 2] };\n    const svg = generateSVG(data, { width: 100, height: 50, margin: 5 });\n    expect(svg).toContain('<svg');\n    expect(svg).toContain('xmlns=\"http://www.w3.org/2000/svg\"');\n    expect(svg).toContain('<polyline');\n    expect(svg).toMatch(/points=\"[^\"]+\"/);\n  });\n});\n\ndescribe(\"generateCSV\", () => {\n  test(\"should generate CSV string correctly\", () => {\n    const data = { xValues: [1, 2], yValues: [3, 4] };\n    const csv = generateCSV(data);\n    expect(csv).toBe(\"x,y\\n1,3\\n2,4\");\n  });\n  test(\"should throw on empty data\", () => {\n    expect(() => generateCSV({ xValues: [], yValues: [] })).toThrow(\"No data points available\");\n  });\n});\n\ndescribe(\"generateJSON\", () => {\n  test(\"should generate JSON string correctly\", () => {\n    const data = { xValues: [1], yValues: [2] };\n    const jsonStr = generateJSON(data);\n    expect(jsonStr).toBe(JSON.stringify(data));\n  });\n});\n\ndescribe(\"Default main\", () => {\n  test(\"should terminate without error on no args\", () => {\n    process.argv = [\"node\", \"src/lib/main.js\"];\n    expect(() => main()).not.toThrow();\n  });\n});\n\ndescribe(\"parseInputFile\", () => {\n  test(\"should parse CSV input file\", () => {\n    const tmp = path.join(os.tmpdir(), \"test-input.csv\");\n    fs.writeFileSync(tmp, \"x,y\\n1,2\\n3,4\\n\");\n    const data = parseInputFile(tmp);\n    expect(data).toEqual({ xValues: [1, 3], yValues: [2, 4] });\n    fs.unlinkSync(tmp);\n  });\n\n  test(\"should parse JSON input file with object array\", () => {\n    const tmp = path.join(os.tmpdir(), \"test-input.json\");\n    const arr = [{ x: 0, y: 1 }, { x: 2, y: 3 }];\n    fs.writeFileSync(tmp, JSON.stringify(arr));\n    const data = parseInputFile(tmp);\n    expect(data).toEqual({ xValues: [0, 2], yValues: [1, 3] });\n    fs.unlinkSync(tmp);\n  });\n\n  test(\"should throw on unsupported format\", () => {\n    const tmp = path.join(os.tmpdir(), \"test-input.txt\");\n    fs.writeFileSync(tmp, \"foo\");\n    expect(() => parseInputFile(tmp)).toThrow(\"Unsupported input format\");\n    fs.unlinkSync(tmp);\n  });\n});\n\ndescribe(\"convertSVGtoPNG\", () => {\n  test(\"should convert SVG to PNG buffer\", async () => {\n    const svg = '<svg xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"10\" height=\"10\"/></svg>';\n    const buffer = await convertSVGtoPNG(svg);\n    expect(buffer.slice(0, 8)).toEqual(Buffer.from([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]));\n  });\n});\n\n\nFile: tests/unit/main.test.js\nimport { describe, test, expect } from \"vitest\";\nimport * as mainModule from \"@src/lib/main.js\";\nimport { main } from \"@src/lib/main.js\";\n\ndescribe(\"Main Module Import\", () => {\n  test(\"should be non-null\", () => {\n    expect(mainModule).not.toBeNull();\n  });\n});\n\ndescribe(\"Default main\", () => {\n  test(\"should terminate without error\", () => {\n    process.argv = [\"node\", \"src/lib/main.js\"];\n    main();\n  });\n});\n\n\nTEST_FILES_END\n\nDocumentation files (to be updated if necessary):\nDOCS_FILES_START\nFile: USAGE.md\n# Usage\n\nTo generate an SVG plot from a mathematical expression:\n\n```bash\nnpx repository0-plot-code-lib --expression \"sin(x)\" --range \"x=0:6.28:0.1\" --output output.svg\n```\n\nOptions:\n\n- `--expression <expr>`: A mathematical expression in variable `x`. Required unless using `--input`.\n- `--range <range>`: Range for `x` in the format `x=min:max[:step]`. Required unless using `--input`. `step` defaults to `1`.\n- `--output <file>`: Output file path for the image, SVG, JSON, or CSV. Optional. Defaults to stdout.\n- `--input <file>`: Path to a CSV or JSON file containing time series data. When provided, `--expression` and `--range` are ignored.\n- `--input-format <csv|json>`: Override input format detection based on file extension. Optional.\n- `--format <svg|png|json|csv>`: Specify output format. Defaults to `svg`.\n- `--png`: (Deprecated) Alias for `--format png`. Outputs a PNG image instead of SVG.\n- `--serve`: Enable HTTP server mode.\n- `--port <number>`: Port for HTTP server. Defaults to `3000`.\n\nExamples:\n\nGenerate SVG from CSV data:\n```bash\nnpx repository0-plot-code-lib --input data.csv --output plot.svg\n```\n\nGenerate PNG from CSV data:\n```bash\nnpx repository0-plot-code-lib --input data.csv --format png --output plot.png\n```\n\nGenerate JSON from CSV data:\n```bash\nnpx repository0-plot-code-lib --input data.csv --format json --output data.json\n```\n\nGenerate CSV from JSON data, writing to stdout:\n```bash\nnpx repository0-plot-code-lib --input data.json --format csv > data.csv\n```\n\nRun HTTP server on port 4000:\n```bash\nnpx repository0-plot-code-lib --serve --port 4000\n```\nAccess the `/plot` endpoint:\n```bash\ncurl \"http://localhost:4000/plot?expression=x&range=x=0:5:1&format=csv\" > data.csv\n```\n\n\nDOCS_FILES_END\n\nREADME file (primary focus, to be updated): README.md\nREADME_FILE_START\n# repository0-plot-code-lib\n\n\"Be a go-to plot library with a CLI, be the jq of formulae visualisations.\"\n\n## Installation\n\nInstall via npm:\n\n```bash\nnpm install @xn-intenton-z2a/repository0-plot-code-lib\n```\n\nOr use npx without installing:\n\n```bash\nnpx repository0-plot-code-lib --expression \"sin(x)\" --range \"x=0:6.28:0.1\"\n```\n\n## Usage\n\nRun the CLI with the following syntax:\n\n```bash\nnpx repository0-plot-code-lib --expression \"<expr>\" --range \"<range>\" [--output \"<file>\"]\n```\n\nOptions:\n\n- `--expression <expr>` (required): A mathematical expression in variable `x`.\n- `--range <range>` (required): Range for `x` in the format `x=min:max[:step]`. Step defaults to `1`.\n- `--output <file>` (optional): Path to save the output. Defaults to stdout.\n- `--input <file>` (optional): Path to a CSV or JSON file containing data (ignores expression and range).\n- `--input-format <csv|json>` (optional): Override input format detection.\n- `--png` (optional): Output a PNG image instead of SVG.\n\n## Examples\n\nGenerate an SVG plot and save to a file:\n\n```bash\nnpx repository0-plot-code-lib --expression \"sin(x)\" --range \"x=0:6.28:0.1\" --output output.svg\n```\n\nRedirect output to STDOUT and pipe to a file:\n\n```bash\nnpx repository0-plot-code-lib --expression \"x^2\" --range \"x=0:10:0.5\" > plot.svg\n```\n\n## License\n\nMIT\n\nREADME_FILE_END\n\nMISSION file (for context, read only): MISSION.md\nMISSION_FILE_START\n# Mission Statement\n\n_\"Be a go-to plot library with a CLI, be the jq of formulae visualisations.\"_\n\n**plot-code-lib** is a JavaScript library and CLI tool designed to:\n- Transform and given range and a simple expression syntax for (pick an existing open standard) to time series data.\n- Read and write the time series data in a standard format (pick an existing open standard).\n- Make use of libraries for formula parsing, time series generation, plotting, and persistence in image formats.\n- Generate SVG and PNG plots from the time series data and save these as files.\n- Variations on this example: `node run start -- --expression \"y=sin(x)\" --range \"x=-1:-1,y=-1:-1\" --file output.svg` .\n- Showcase all the features of the library via a CLI by dry running tp generate example commands and output in the README.md file.\n\n`plot-code-lib` facilitate the creation of plots from mathematical expressions and time series data. It will take a\nmathematical expression and a range of values and generate a plot in SVG or PNG format.\n\nMISSION_FILE_END\n\nContributing file (for context, read only): CONTRIBUTING.md\nCONTRIBUTING_FILE_START\n# repository0-plot-code-lib\n\n_\"Be a go-to plot library with a CLI, be the jq of formulae visualisations.\"_\n\n## How to Contribute\n\nThe guidelines below apply to human or automated contributions:\n\n1. **Report Issues or Ideas:**\n    - Open an issue on GitHub to share bug reports, feature requests, or any improvements you envision.\n    - Clear descriptions and reproducible steps are highly appreciated.\n\n2. **Submit Pull Requests:**\n    - Fork the repository and create a feature branch.\n    - Implement your changes, ensuring you follow the existing coding style and standards.\n    - Add tests to cover any new functionality.\n    - Update documentation if your changes affect usage or workflow behavior.\n    - Submit your pull request for review.\n\n## Guidelines\n\n- **Code Quality:**\n    - Ensure there are tests that cover your changes and any likely new cases they introduce.\n    - When making a change remain consistent with the existing code style and structure.\n    - When adding new functionality, consider if some unused or superseded code should be removed.\n\n- **Compatibility:**\n    - Ensure your code runs on Node 20 and adheres to ECMAScript Module (ESM) standards.\n    - Tests use vitest and competing test frameworks should not be added.\n    - Mocks in tests must not interfere with other tests.\n\n- **Testing:**\n    - The command `npm test` should invoke the tests added for the new functionality (and pass).\n    - If you add new functionality, ensure it is covered by tests.\n\n- **Documentation:**\n    - When making a change to the main source file, review the readme to see if it needs to be updated and if so, update it.\n    - Where the source exports a function, consider that part of the API of the library and document it in the readme.\n    - Where the source stands-up an HTTP endpoint, consider that part of the API of the library and document it in the readme.\n    - Include usage examples including inline code usage and CLI and HTTP invocation, API references.\n\nCONTRIBUTING_FILE_END\n\nDependencies file (for context, read only): package.json\nDEPENDENCIES_FILE_START\n{\n  \"name\": \"@xn-intenton-z2a/repository0-plot-code-lib\",\n  \"version\": \"1.2.0-0\",\n  \"description\": \"Be a go-to plot library with a CLI, be the jq of formulae visualisations.\",\n  \"type\": \"module\",\n  \"main\": \"src/lib/main.js\",\n  \"bin\": {\n    \"repository0-plot-code-lib\": \"src/lib/main.js\"\n  },\n  \"scripts\": {\n    \"build\": \"echo 'Nothing to build'\",\n    \"formatting\": \"prettier --check .\",\n    \"formatting-fix\": \"prettier --write .\",\n    \"linting\": \"eslint .\",\n    \"linting-json\": \"eslint --format=@microsoft/eslint-formatter-sarif .\",\n    \"linting-fix\": \"eslint --fix .\",\n    \"update-to-minor\": \"npx npm-check-updates --upgrade --enginesNode --target minor --verbose --install always\",\n    \"update-to-greatest\": \"npx npm-check-updates --upgrade --enginesNode --target greatest --verbose --install always --reject 'alpha'\",\n    \"test\": \"vitest tests/unit/*.test.js\",\n    \"test:unit\": \"vitest --coverage tests/unit/*.test.js\",\n    \"start\": \"node src/lib/main.js\"\n  },\n  \"keywords\": [\n    \"csv\",\n    \"json\",\n    \"png\"\n  ],\n  \"author\": \"\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"dotenv\": \"^16.5.0\",\n    \"ejs\": \"^3.1.10\",\n    \"js-yaml\": \"^4.1.0\",\n    \"mathjs\": \"^11.8.2\",\n    \"minimatch\": \"^10.0.1\",\n    \"openai\": \"^4.95.1\",\n    \"sharp\": \"^0.32.4\",\n    \"zod\": \"^3.24.4\"\n  },\n  \"devDependencies\": {\n    \"@microsoft/eslint-formatter-sarif\": \"^3.1.0\",\n    \"@vitest/coverage-v8\": \"^3.1.3\",\n    \"eslint\": \"^9.25.1\",\n    \"eslint-config-google\": \"^0.14.0\",\n    \"eslint-config-prettier\": \"^10.1.5\",\n    \"eslint-plugin-import\": \"^2.31.0\",\n    \"eslint-plugin-prettier\": \"^5.2.6\",\n    \"eslint-plugin-promise\": \"^7.2.1\",\n    \"eslint-plugin-react\": \"^7.37.5\",\n    \"eslint-plugin-security\": \"^3.0.1\",\n    \"eslint-plugin-sonarjs\": \"^3.0.2\",\n    \"express\": \"^4.21.2\",\n    \"js-yaml\": \"^4.1.0\",\n    \"markdown-it-github\": \"^0.5.0\",\n    \"markdown-it\": \"^14.1.0\",\n    \"npm-check-updates\": \"^17.1.18\",\n    \"prettier\": \"^3.5.3\",\n    \"supertest\": \"^6.3.3\",\n    \"vitest\": \"^3.1.3\"\n  },\n  \"engines\": {\n    \"node\": \">=20.0.0\"\n  },\n  \"files\": [\n    \"src/\"\n  ],\n  \"publishConfig\": {\n    \"registry\": \"https://npm.pkg.github.com\"\n  }\n}\nDEPENDENCIES_FILE_END   \n\nDependencies install from command: npm install\nDEPENDENCIES_INSTALL_START\nnpm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\nnpm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead\nnpm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported\nnpm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead\nnpm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported\nnpm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead\nnpm warn deprecated superagent@8.1.2: Please upgrade to v9.0.0+ as we have fixed a public vulnerability with formidable dependency. Note that v9.0.0+ requires Node.js v14.18.0+. See https://github.com/ladjs/superagent/pull/1800 for insight. This project is supported and maintained by the team at Forward Email @ https://forwardemail.net\nnpm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.\n\nadded 548 packages, and audited 549 packages in 6s\n\n172 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\nDEPENDENCIES_INSTALL_END    \n\nBuild output from command: npm run build\nBUILD_OUTPUT_START\n\n> @xn-intenton-z2a/repository0-plot-code-lib@1.2.0-0 build\n> echo 'Nothing to build'\n\nNothing to build\nBUILD_OUTPUT_END      \n\nTest output from command: npm test\nTEST_OUTPUT_START\n\n> @xn-intenton-z2a/repository0-plot-code-lib@1.2.0-0 test\n> vitest tests/unit/*.test.js\n\n\n\u001b[1m\u001b[46m RUN \u001b[49m\u001b[22m \u001b[36mv3.1.3 \u001b[39m\u001b[90m/home/runner/work/repository0-plot-code-lib/repository0-plot-code-lib\u001b[39m\n\n \u001b[32m✓\u001b[39m tests/unit/module-index.test.js \u001b[2m(\u001b[22m\u001b[2m1 test\u001b[22m\u001b[2m)\u001b[22m\u001b[32m 2\u001b[2mms\u001b[22m\u001b[39m\n\u001b[90mstdout\u001b[2m | tests/unit/main.test.js\u001b[2m > \u001b[22m\u001b[2mDefault main\u001b[2m > \u001b[22m\u001b[2mshould terminate without error\n\u001b[22m\u001b[39mRun with: []\n\n \u001b[32m✓\u001b[39m tests/unit/main.test.js \u001b[2m(\u001b[22m\u001b[2m2 tests\u001b[22m\u001b[2m)\u001b[22m\u001b[32m 4\u001b[2mms\u001b[22m\u001b[39m\n\u001b[90mstdout\u001b[2m | tests/unit/plot-generation.test.js\u001b[2m > \u001b[22m\u001b[2mDefault main\u001b[2m > \u001b[22m\u001b[2mshould terminate without error on no args\n\u001b[22m\u001b[39mRun with: []\n\n \u001b[32m✓\u001b[39m tests/unit/plot-generation.test.js \u001b[2m(\u001b[22m\u001b[2m17 tests\u001b[22m\u001b[2m)\u001b[22m\u001b[32m 64\u001b[2mms\u001b[22m\u001b[39m\n\n\u001b[2m Test Files \u001b[22m \u001b[1m\u001b[32m3 passed\u001b[39m\u001b[22m\u001b[90m (3)\u001b[39m\n\u001b[2m      Tests \u001b[22m \u001b[1m\u001b[32m20 passed\u001b[39m\u001b[22m\u001b[90m (20)\u001b[39m\n\u001b[2m   Start at \u001b[22m 08:50:00\n\u001b[2m   Duration \u001b[22m 1.28s\u001b[2m (transform 70ms, setup 0ms, collect 1.98s, tests 70ms, environment 1ms, prepare 271ms)\u001b[22m\nTEST_OUTPUT_END            \n\nMain execution output from command: npm run start\nMAIN_OUTPUT_START\n\n> @xn-intenton-z2a/repository0-plot-code-lib@1.2.0-0 start\n> node src/lib/main.js\n\nRun with: []\nMAIN_OUTPUT_END    \n\nAgent configuration file:\nAGENT_CONFIG_FILE_START\n# Which agentic-lib workflow schedule should be used?\nschedule: schedule-2\n\n# Mapping for from symbolic keys to filepaths for access by agentic-lib workflows with limits and access permissions\npaths:\n  # Filepaths for elaborator workflows\n  missionFilepath:\n    path: 'MISSION.md'\n  librarySourcesFilepath:\n    path: 'SOURCES.md'\n    permissions: [ 'write' ]\n    limit: 16\n  libraryDocumentsPath:\n    path: 'library/'\n    permissions: [ 'write' ]\n    limit: 32\n  featuresPath:\n    path: 'features/'\n    permissions: [ 'write' ]\n    limit: 2\n\n  # Filepaths for engineer workflows\n  contributingFilepath:\n    path: 'CONTRIBUTING.md'\n  targetTestsPath:\n    path: 'tests/unit/plot-generation.test.js'\n    permissions: [ 'write' ]\n  otherTestsPaths:\n    paths: [ 'tests/unit/main.test.js' ]\n  targetSourcePath:\n    path: 'src/lib/main.js'\n    permissions: [ 'write' ]\n  otherSourcePaths:\n    paths: [ 'src/lib/' ]\n  dependenciesFilepath:\n    path: 'package.json'\n    permissions: [ 'write' ]\n  documentationPath:\n    path: 'USAGE.md'\n    permissions: [ 'write' ]\n\n  # Filepaths for maintainer workflows\n  formattingFilepath:\n    path: '.prettierrc'\n  lintingFilepath:\n    path: 'eslint.config.js'\n  readmeFilepath:\n    path: 'README.md'\n    permissions: [ 'write' ]\n\n# Execution commands\nbuildScript: \"npm run build\"\ntestScript: \"npm test\"\nmainScript: \"npm run start\"\n\n# How many issues should be open to be picked up?\nfeatureDevelopmentIssuesWipLimit: 2\nmaintenanceIssuesWipLimit: 1\n\n# How many attempts should be made to work on an issue?\nattemptsPerBranch: 2\nattemptsPerIssue: 2\n\n# Web publishing\ndocRoot: 'public'\n\n# Repository seeding\nseeding:\n  repositoryReseed: 'true'\n  missionFilepath: 'seeds/zero-MISSION.md'\n  sourcePath: 'seeds/zero-main.js'\n  testsPath: 'seeds/zero-tests.js'\n  dependenciesFilepath: 'seeds/zero-package.json'\n  readmeFilepath: 'seeds/zero-README.md'\n\n# The intention is associated with the bot's discussion thread.\nintentionBot:\n  intentionFilepath: 'intentïon.md'\n\nAGENT_CONFIG_FILE_END\n\nPlease produce updated versions of the README and documentation files to ensure they accurately reflect the current state of the codebase.\nRemember:\n1. The README is the primary focus, but other documentation files can be updated as well if needed\n2. Source files (srcFiles) and test files (testFiles) should NOT be updated\n3. Preserve existing README content even if it describes features not yet implemented\n4. Update the README if it conflicts with current source code, tests, or documentation\n5. If documentation files are out of date compared to the source code or tests, update them to be consistent\n\nIf there are no changes required, please provide the original content and state that no changes are necessary in the message.\n\nPaths in (updatedFile01Filepath, updatedFile02Filepath, etc...) must begin with one of: SOURCES.md;library/;features/;tests/unit/plot-generation.test.js;src/lib/main.js;package.json;USAGE.md;README.md\n\nAnswer strictly with a JSON object following this schema:\n{\n  \"message\": \"A short sentence explaining the changes applied (or why no changes were applied) suitable for a commit message or PR text.\",\n  \"updatedFile01Filepath\": \"README.md\",\n  \"updatedFile01Contents\": \"The entire new content of the README file, with all necessary changes applied, if any.\",\n  \"updatedFile02Filepath\":  \"USAGE.md/USAGE.md\",\n  \"updatedFile02Contents\": \"The entire new content of the file, with all necessary changes applied, if any.\",\n  \"updatedFile03Filepath\": \"unused\",\n  \"updatedFile03Contents\": \"unused\",\n  \"updatedFile04Filepath\": \"unused\",\n  \"updatedFile04Contents\": \"unused\",\n  \"updatedFile05Filepath\": \"unused\",\n  \"updatedFile05Contents\": \"unused\",\n  \"updatedFile06Filepath\": \"unused\",\n  \"updatedFile06Contents\": \"unused\",\n  \"updatedFile07Filepath\": \"unused\",\n  \"updatedFile07Contents\": \"unused\",\n  \"updatedFile08Filepath\": \"unused\",\n  \"updatedFile08Contents\": \"unused\",\n  \"updatedFile09Filepath\": \"unused\",\n  \"updatedFile09Contents\": \"unused\",\n  \"updatedFile10Filepath\": \"unused\",\n  \"updatedFile10Contents\": \"unused\",\n  \"updatedFile11Filepath\": \"unused\",\n  \"updatedFile11Contents\": \"unused\",\n  \"updatedFile12Filepath\": \"unused\",\n  \"updatedFile12Contents\": \"unused\",\n  \"updatedFile13Filepath\": \"unused\",\n  \"updatedFile13Contents\": \"unused\",\n  \"updatedFile14Filepath\": \"unused\",\n  \"updatedFile14Contents\": \"unused\",\n  \"updatedFile15Filepath\": \"unused\",\n  \"updatedFile15Contents\": \"unused\",\n  \"updatedFile16Filepath\": \"unused\",\n  \"updatedFile16Contents\": \"unused\"\n}\n\nYou can include up to 16 files using the updatedFileXXName and updatedFileXXContents pairs (where XX is a number from 01 to 16)\nWhere a file name and contents slot is not used, populate tha name with \"unused\" and the contents with \"unused\".\nNever truncate the files, when returning a file, always return the entire file content.\n\nEnsure valid JSON.\n"
    }
  ],
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "applyReadmeUpdate",
        "description": "Return updated versions of README and documentation files along with a commit message. Use the provided file contents and supporting context to generate the updates.",
        "parameters": {
          "type": "object",
          "properties": {
            "message": {
              "type": "string",
              "description": "A short sentence explaining the changes applied (or why no changes were applied) suitable for a commit message or PR text."
            },
            "updatedFile01Filepath": {
              "type": "string",
              "description": "Path to the first file to update"
            },
            "updatedFile01Contents": {
              "type": "string",
              "description": "The entire new content of the first file, with all necessary changes applied"
            },
            "updatedFile02Filepath": {
              "type": "string",
              "description": "Path to the second file to update"
            },
            "updatedFile02Contents": {
              "type": "string",
              "description": "The entire new content of the second file, with all necessary changes applied"
            },
            "updatedFile03Filepath": {
              "type": "string",
              "description": "Path to the third file to update"
            },
            "updatedFile03Contents": {
              "type": "string",
              "description": "The entire new content of the third file, with all necessary changes applied"
            },
            "updatedFile04Filepath": {
              "type": "string",
              "description": "Path to the fourth file to update"
            },
            "updatedFile04Contents": {
              "type": "string",
              "description": "The entire new content of the fourth file, with all necessary changes applied"
            },
            "updatedFile05Filepath": {
              "type": "string",
              "description": "Path to the fifth file to update"
            },
            "updatedFile05Contents": {
              "type": "string",
              "description": "The entire new content of the fifth file, with all necessary changes applied"
            },
            "updatedFile06Filepath": {
              "type": "string",
              "description": "Path to the sixth file to update"
            },
            "updatedFile06Contents": {
              "type": "string",
              "description": "The entire new content of the sixth file, with all necessary changes applied"
            },
            "updatedFile07Filepath": {
              "type": "string",
              "description": "Path to the seventh file to update"
            },
            "updatedFile07Contents": {
              "type": "string",
              "description": "The entire new content of the seventh file, with all necessary changes applied"
            },
            "updatedFile08Filepath": {
              "type": "string",
              "description": "Path to the eighth file to update"
            },
            "updatedFile08Contents": {
              "type": "string",
              "description": "The entire new content of the eighth file, with all necessary changes applied"
            },
            "updatedFile09Filepath": {
              "type": "string",
              "description": "Path to the ninth file to update"
            },
            "updatedFile09Contents": {
              "type": "string",
              "description": "The entire new content of the ninth file, with all necessary changes applied"
            },
            "updatedFile10Filepath": {
              "type": "string",
              "description": "Path to the tenth file to update"
            },
            "updatedFile10Contents": {
              "type": "string",
              "description": "The entire new content of the tenth file, with all necessary changes applied"
            },
            "updatedFile11Filepath": {
              "type": "string",
              "description": "Path to the eleventh file to update"
            },
            "updatedFile11Contents": {
              "type": "string",
              "description": "The entire new content of the eleventh file, with all necessary changes applied"
            },
            "updatedFile12Filepath": {
              "type": "string",
              "description": "Path to the twelfth file to update"
            },
            "updatedFile12Contents": {
              "type": "string",
              "description": "The entire new content of the twelfth file, with all necessary changes applied"
            },
            "updatedFile13Filepath": {
              "type": "string",
              "description": "Path to the thirteenth file to update"
            },
            "updatedFile13Contents": {
              "type": "string",
              "description": "The entire new content of the thirteenth file, with all necessary changes applied"
            },
            "updatedFile14Filepath": {
              "type": "string",
              "description": "Path to the fourteenth file to update"
            },
            "updatedFile14Contents": {
              "type": "string",
              "description": "The entire new content of the fourteenth file, with all necessary changes applied"
            },
            "updatedFile15Filepath": {
              "type": "string",
              "description": "Path to the fifteenth file to update"
            },
            "updatedFile15Contents": {
              "type": "string",
              "description": "The entire new content of the fifteenth file, with all necessary changes applied"
            },
            "updatedFile16Filepath": {
              "type": "string",
              "description": "Path to the sixteenth file to update"
            },
            "updatedFile16Contents": {
              "type": "string",
              "description": "The entire new content of the sixteenth file, with all necessary changes applied"
            }
          },
          "required": [
            "message",
            "updatedFile01Filepath",
            "updatedFile01Contents",
            "updatedFile02Filepath",
            "updatedFile02Contents",
            "updatedFile03Filepath",
            "updatedFile03Contents",
            "updatedFile04Filepath",
            "updatedFile04Contents",
            "updatedFile05Filepath",
            "updatedFile05Contents",
            "updatedFile06Filepath",
            "updatedFile06Contents",
            "updatedFile07Filepath",
            "updatedFile07Contents",
            "updatedFile08Filepath",
            "updatedFile08Contents",
            "updatedFile09Filepath",
            "updatedFile09Contents",
            "updatedFile10Filepath",
            "updatedFile10Contents",
            "updatedFile11Filepath",
            "updatedFile11Contents",
            "updatedFile12Filepath",
            "updatedFile12Contents",
            "updatedFile13Filepath",
            "updatedFile13Contents",
            "updatedFile14Filepath",
            "updatedFile14Contents",
            "updatedFile15Filepath",
            "updatedFile15Contents",
            "updatedFile16Filepath",
            "updatedFile16Contents"
          ],
          "additionalProperties": false
        },
        "strict": true
      }
    }
  ]
}