<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="repository0-plot-code-lib" href="#repository0-plot-code-lib"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>repository0-plot-code-lib</h1>
<p class="md-github"><em class="md-github">&quot;Be a go-to plot library with a CLI, be the jq of formulae visualisations.&quot;</em></p>
<h2 class="md-github"><a class="md-github__anchor" name="overview" href="#overview"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h2>
<p class="md-github"><strong class="md-github">repository0-plot-code-lib</strong> is a JavaScript library and CLI tool that transforms mathematical expressions into time series data and generates SVG or PNG plots. It provides a simple and flexible interface for visualizing functions and data series directly from the command line.</p>
<h2 class="md-github"><a class="md-github__anchor" name="installation" href="#installation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p class="md-github">Install via npm:</p>
<pre class="md-github"><code class="md-github language-sh">npm install @xn-intenton-z2a/repository0-plot-code-lib
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="cli-usage" href="#cli-usage"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI Usage</h2>
<p class="md-github">The core CLI flags:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">--expression &lt;expression&gt;</code>: Mathematical expression in terms of <code class="md-github">x</code> (e.g., <code class="md-github">y=sin(x)+0.5*x</code>).</li>
<li class="md-github"><code class="md-github">--range \&quot;&lt;axis&gt;=&lt;min&gt;:&lt;max&gt;\&quot;</code>: Numeric range for the axis (e.g., <code class="md-github">x=0:10</code>).</li>
<li class="md-github"><code class="md-github">--format &lt;svg|png&gt;</code>: Output image format (<code class="md-github">svg</code> or <code class="md-github">png</code>).</li>
<li class="md-github"><code class="md-github">--output &lt;path&gt;</code>: File path to write the plot.</li>
<li class="md-github"><code class="md-github">--derivative &lt;true|false&gt;</code>: Overlay the first derivative curve alongside the original plot.</li>
<li class="md-github"><code class="md-github">--trendline-stats &lt;true|false&gt;</code>: Compute and print regression statistics (slope, intercept, r2) without generating a plot.</li>
<li class="md-github"><code class="md-github">--overlay-trendline &lt;true|false&gt;</code>: Overlay a regression trendline on the plot.</li>
<li class="md-github"><code class="md-github">--export-data &lt;path&gt;</code>: Export the raw x,y data to a file (CSV, JSON, YAML).</li>
<li class="md-github"><code class="md-github">--export-format &lt;csv|json|yaml&gt;</code>: Override the export format when the file extension is missing or ambiguous.</li>
<li class="md-github"><code class="md-github">--serve &lt;port&gt;</code>: Start an HTTP server on the specified port exposing the <code class="md-github">/plot</code> endpoint.</li>
<li class="md-github"><code class="md-github">--mission</code>: Show the project mission statement.</li>
<li class="md-github"><code class="md-github">examples</code>: Run the automated examples subcommand to print Markdown-formatted usage examples.</li>
</ul>
<p class="md-github">For advanced styling options (title, labels, grid, colors, etc.), see the <a href="USAGE.md" class="md-github">Usage guide</a>.</p>
<h2 class="md-github"><a class="md-github__anchor" name="http-server-mode" href="#http-server-mode"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTTP Server Mode</h2>
<p class="md-github">Use the <code class="md-github">--serve &lt;port&gt;</code> flag to start an HTTP server on the specified port:</p>
<pre class="md-github"><code class="md-github language-sh">repository0-plot-code-lib --serve 3000
</code></pre>
<p class="md-github">Once running, the server exposes the following endpoints:</p>
<h3 class="md-github"><a class="md-github__anchor" name="get-plot" href="#get-plot"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET <code class="md-github">/plot</code></h3>
<ul class="md-github">
<li class="md-github"><strong class="md-github">Query parameters</strong> (all in backticks):
<ul class="md-github">
<li class="md-github"><code class="md-github">expression</code> (required): Function expression in <code class="md-github">x</code>, e.g., <code class="md-github">y=sin(x)</code>.</li>
<li class="md-github"><code class="md-github">range</code> (required): <code class="md-github">axis=min:max</code> format, e.g., <code class="md-github">x=0:6.28</code>.</li>
<li class="md-github"><code class="md-github">format</code> (required): <code class="md-github">svg</code> or <code class="md-github">png</code>.</li>
<li class="md-github">Optional: <code class="md-github">width</code>, <code class="md-github">height</code>, <code class="md-github">samples</code>, <code class="md-github">xLog</code>, <code class="md-github">yLog</code>, <code class="md-github">grid</code>, <code class="md-github">title</code>, <code class="md-github">xLabel</code>, <code class="md-github">yLabel</code>, <code class="md-github">derivative</code>, <code class="md-github">palette</code>, <code class="md-github">colors</code>, <code class="md-github">trendlineStats</code>, <code class="md-github">overlayTrendline</code>.</li>
</ul>
</li>
</ul>
<p class="md-github">The response content type is:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">image/svg+xml</code> for SVG when <code class="md-github">format=svg</code> (binary or UTF-8 text).</li>
<li class="md-github"><code class="md-github">image/png</code> for PNG when <code class="md-github">format=png</code>.</li>
</ul>
<h4 class="md-github"><a class="md-github__anchor" name="base64-encoding" href="#base64-encoding"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Base64 Encoding</h4>
<ul class="md-github">
<li class="md-github">Add <code class="md-github">encoding=base64</code> to the query string to receive a JSON response instead of raw image bytes.</li>
<li class="md-github">When used, the endpoint returns <code class="md-github">application/json</code> with the structure:<pre class="md-github"><code class="md-github language-json">{
  &quot;data&quot;: &quot;&lt;base64string&gt;&quot;,
  &quot;type&quot;: &quot;svg&quot; | &quot;png&quot;
}
</code></pre>
</li>
</ul>
<p class="md-github">Sample request using <code class="md-github">curl</code>:</p>
<pre class="md-github"><code class="md-github language-sh">curl &quot;http://localhost:3000/plot?expression=y%3Dx&amp;range=x%3D0:5&amp;format=svg&amp;encoding=base64&quot;
</code></pre>
<p class="md-github">Sample JSON response:</p>
<pre class="md-github"><code class="md-github language-json">{
  &quot;data&quot;: &quot;PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIC8+&quot;,
  &quot;type&quot;: &quot;svg&quot;
}
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="cors-support" href="#cors-support"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CORS Support</h3>
<p class="md-github">CORS is enabled by default. All responses include the header:</p>
<pre class="md-github"><code class="md-github">Access-Control-Allow-Origin: *
</code></pre>
<p class="md-github">To restrict allowed origins, use:</p>
<ul class="md-github">
<li class="md-github">The <code class="md-github">--cors-origins</code> CLI flag with a comma-separated list of origins.</li>
<li class="md-github">The <code class="md-github">CORS_ORIGINS</code> environment variable.</li>
</ul>
<p class="md-github">Example using <code class="md-github">fetch</code> in the browser:</p>
<pre class="md-github"><code class="md-github language-js">fetch('http://localhost:3000/plot?expression=y=x&amp;range=x=0:5&amp;format=svg')
  .then(res =&gt; {
    console.log(res.headers.get('Access-Control-Allow-Origin')); // '*'
    return res.text();
  })
  .then(svg =&gt; console.log(svg));
</code></pre>
<h4 class="md-github"><a class="md-github__anchor" name="stats-endpoint-stats" href="#stats-endpoint-stats"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stats Endpoint (<code class="md-github">/stats</code>)</h4>
<p class="md-github">Compute and return summary statistics for a data series.</p>
<ul class="md-github">
<li class="md-github"><strong class="md-github">GET</strong> <code class="md-github">/stats</code></li>
<li class="md-github"><strong class="md-github">Query parameters</strong> (all in backticks):
<ul class="md-github">
<li class="md-github">Required: <code class="md-github">expression</code> <strong class="md-github">or</strong> <code class="md-github">dataFile</code> (path to JSON/YAML/CSV data file).</li>
<li class="md-github">Required when using <code class="md-github">expression</code>: <code class="md-github">range</code> in <code class="md-github">axis=min:max</code> format.</li>
<li class="md-github">Optional: <code class="md-github">samples</code> (default <code class="md-github">100</code>), <code class="md-github">json</code> (<code class="md-github">true</code>|<code class="md-github">false</code>, default <code class="md-github">true</code>).</li>
</ul>
</li>
</ul>
<p class="md-github">The response format depends on <code class="md-github">json</code>:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">json=false</code>: <code class="md-github">text/plain</code>, each statistic on its own line:<pre class="md-github"><code class="md-github language-text">min: 0.00
max: 5.00
mean: 2.50
median: 2.50
stddev: 1.87
</code></pre>
</li>
<li class="md-github"><code class="md-github">json=true</code> (default): <code class="md-github">application/json</code>:<pre class="md-github"><code class="md-github language-json">{
  &quot;min&quot;: 0,
  &quot;max&quot;: 5,
  &quot;mean&quot;: 2.5,
  &quot;median&quot;: 2.5,
  &quot;stddev&quot;: 1.87
}
</code></pre>
</li>
</ul>
<p class="md-github">Sample <code class="md-github">curl</code> for plain-text stats:</p>
<pre class="md-github"><code class="md-github language-sh">curl &quot;http://localhost:3000/stats?expression=y%3Dx&amp;range=x%3D0:5&amp;json=false&quot;
</code></pre>
<p class="md-github">Sample <code class="md-github">curl</code> for JSON stats:</p>
<pre class="md-github"><code class="md-github language-sh">curl &quot;http://localhost:3000/stats?expression=y%3Dx&amp;range=x%3D0:5&quot;
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="cli---mission-example" href="#cli---mission-example"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI --mission Example</h2>
<p class="md-github">Print the project mission statement:</p>
<pre class="md-github"><code class="md-github language-sh">repository0-plot-code-lib --mission
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="examples" href="#examples"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h2>
<p class="md-github">Generate an SVG:</p>
<pre class="md-github"><code class="md-github language-sh">repository0-plot-code-lib --expression &quot;y=sin(x)+0.5*x&quot; --range &quot;x=0:10&quot; --format svg --output plot.svg
</code></pre>
<p class="md-github">Generate a PNG:</p>
<pre class="md-github"><code class="md-github language-sh">repository0-plot-code-lib --expression &quot;y=x&quot; --range &quot;x=0:5&quot; --format png --output plot.png
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="further-reading" href="#further-reading"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Further Reading</h2>
<p class="md-github">For advanced flags, HTTP server details, styling options, and programmatic API, see the <a href="USAGE.md" class="md-github">Usage guide</a>.</p>
<h2 class="md-github"><a class="md-github__anchor" name="license" href="#license"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p class="md-github">MIT</p>

  </section>
  <footer>
    <p>Generated on 2025-05-13T00:49:37.964Z</p>
  </footer>
</body>
</html>