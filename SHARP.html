<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="sharp" href="#sharp"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SHARP</h1>
<h2 class="md-github"><a class="md-github__anchor" name="crawl-summary" href="#crawl-summary"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crawl Summary</h2>
<p class="md-github">Sharp is a high performance Node.js image processing library using libvips. It supports diverse image formats (JPEG, PNG, WebP, GIF, AVIF, TIFF, SVG) and runtimes (Node.js, Deno, Bun). The library provides detailed configuration options for input parameters (e.g., autoOrient, limitInputPixels), metadata handling, and format conversion commands. Key API methods include the Sharp constructor, clone(), metadata(), stats(), toFile(), toBuffer(), along with format-specific methods (jpeg, png, webp, gif, jp2, tiff, avif, heif, jxl) that accept precise option objects. The documentation outlines installation commands, build-from-source configurations, bundler integration, and AWS Lambda deployment best practices.</p>
<h2 class="md-github"><a class="md-github__anchor" name="normalised-extract" href="#normalised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Normalised Extract</h2>
<h2 class="md-github"><a class="md-github__anchor" name="table-of-contents" href="#table-of-contents"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table of Contents</h2>
<ol class="md-github">
<li class="md-github">Installation</li>
<li class="md-github">Prebuilt Binaries &amp; Cross-platform Settings</li>
<li class="md-github">Build from Source &amp; Custom libvips</li>
<li class="md-github">API Constructor and Options</li>
<li class="md-github">Common API Methods (clone, metadata, stats)</li>
<li class="md-github">Output Options (toFile, toBuffer)</li>
<li class="md-github">Metadata and Profile Handling</li>
<li class="md-github">Format Conversion Methods (jpeg, png, webp, gif, jp2, tiff, avif, heif, jxl)</li>
<li class="md-github">Bundler &amp; AWS Lambda Integration</li>
<li class="md-github">Troubleshooting &amp; Best Practices</li>
</ol>
<hr class="md-github">
<h3 class="md-github"><a class="md-github__anchor" name="1-installation" href="#1-installation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Installation</h3>
<ul class="md-github">
<li class="md-github">npm: <code class="md-github">npm install sharp</code></li>
<li class="md-github">pnpm: <code class="md-github">pnpm add sharp</code></li>
<li class="md-github">yarn: <code class="md-github">yarn add sharp</code></li>
<li class="md-github">bun: <code class="md-github">bun add sharp</code></li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="2-prebuilt-binaries--cross-platform-settings" href="#2-prebuilt-binaries--cross-platform-settings"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Prebuilt Binaries &amp; Cross-platform Settings</h3>
<ul class="md-github">
<li class="md-github">Prebuilt binaries for macOS (x64 &amp; ARM64), various Linux architectures, and Windows.</li>
<li class="md-github">Use installation flags: <code class="md-github">--cpu</code>, <code class="md-github">--os</code>, <code class="md-github">--libc</code> for platform specifics.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="3-build-from-source--custom-libvips" href="#3-build-from-source--custom-libvips"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Build from Source &amp; Custom libvips</h3>
<ul class="md-github">
<li class="md-github">Use environment variables: <code class="md-github">SHARP_IGNORE_GLOBAL_LIBVIPS</code> or <code class="md-github">SHARP_FORCE_GLOBAL_LIBVIPS</code>.</li>
<li class="md-github">Requirements: C++17, node-addon-api (v7+), node-gyp (v9+).</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="4-api-constructor-and-options" href="#4-api-constructor-and-options"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. API Constructor and Options</h3>
<ul class="md-github">
<li class="md-github">Signature: <code class="md-github">new Sharp([input], [options])</code></li>
<li class="md-github">Input types: Buffer, ArrayBuffer, TypedArray, string, or array.</li>
<li class="md-github">Options include: <code class="md-github">failOn</code>, <code class="md-github">limitInputPixels</code>, <code class="md-github">unlimited</code>, <code class="md-github">autoOrient</code>, <code class="md-github">sequentialRead</code>, <code class="md-github">density</code>, <code class="md-github">ignoreIcc</code>, and others for multi-page, raw, create, text, join.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="5-common-api-methods" href="#5-common-api-methods"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Common API Methods</h3>
<ul class="md-github">
<li class="md-github"><code class="md-github">clone() ⇒ Sharp</code> to capture the current pipeline state.</li>
<li class="md-github"><code class="md-github">metadata([callback]) ⇒ Promise.&lt;Object&gt;</code> returns image dimensions, format, channels, etc.</li>
<li class="md-github"><code class="md-github">stats([callback]) ⇒ Promise.&lt;Object&gt;</code> returns channel statistics and image metrics.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="6-output-options" href="#6-output-options"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. Output Options</h3>
<ul class="md-github">
<li class="md-github"><code class="md-github">toFile(fileOut, [callback]) ⇒ Promise.&lt;Object&gt;</code> writes image to file with inferred format.</li>
<li class="md-github"><code class="md-github">toBuffer([options], [callback]) ⇒ Promise.&lt;Buffer&gt;</code> outputs processed image data; supports <code class="md-github">{ resolveWithObject: true }</code>.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="7-metadata-and-profile-handling" href="#7-metadata-and-profile-handling"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. Metadata and Profile Handling</h3>
<ul class="md-github">
<li class="md-github">Methods: <code class="md-github">keepExif()</code>, <code class="md-github">withExif(exif)</code>, <code class="md-github">withExifMerge(exif)</code>, <code class="md-github">keepIccProfile()</code>, <code class="md-github">withIccProfile(icc, [options])</code>, <code class="md-github">keepMetadata()</code>, and <code class="md-github">withMetadata([options])</code>.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="8-format-conversion-methods" href="#8-format-conversion-methods"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8. Format Conversion Methods</h3>
<ul class="md-github">
<li class="md-github"><strong class="md-github">jpeg(options)</strong>: Options such as <code class="md-github">quality</code>, <code class="md-github">progressive</code>, <code class="md-github">chromaSubsampling</code>, etc.</li>
<li class="md-github"><strong class="md-github">png(options)</strong>: Options such as <code class="md-github">compressionLevel</code>, <code class="md-github">palette</code>, and <code class="md-github">dither</code>.</li>
<li class="md-github"><strong class="md-github">webp(options)</strong>: Options include <code class="md-github">quality</code>, <code class="md-github">lossless</code>, <code class="md-github">preset</code>, etc.</li>
<li class="md-github"><strong class="md-github">gif(options)</strong>: Options include <code class="md-github">reuse</code>, <code class="md-github">colours</code>, <code class="md-github">dither</code>, etc.</li>
<li class="md-github">Additional methods for <code class="md-github">jp2()</code>, <code class="md-github">tiff()</code>, <code class="md-github">avif()</code>, <code class="md-github">heif()</code>, and <code class="md-github">jxl()</code> with similar patterns.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="9-bundler--aws-lambda-integration" href="#9-bundler--aws-lambda-integration"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>9. Bundler &amp; AWS Lambda Integration</h3>
<ul class="md-github">
<li class="md-github">Exclude sharp from bundling in webpack (using externals) and esbuild (using external).</li>
<li class="md-github">For AWS Lambda, include correct binaries and avoid symlinks; configure API Gateway's binary media types.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="10-troubleshooting--best-practices" href="#10-troubleshooting--best-practices"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10. Troubleshooting &amp; Best Practices</h3>
<ul class="md-github">
<li class="md-github">Use jemalloc on glibc-based systems to avoid memory fragmentation.</li>
<li class="md-github">For cross-compiling, set npm flags (<code class="md-github">--platform</code>, <code class="md-github">--arch</code>, <code class="md-github">--libc</code>).</li>
<li class="md-github">Verify installation of node-addon-api and node-gyp if build issues occur.</li>
<li class="md-github">In serverless environments, allocate sufficient memory (e.g., 1536 MB) for performance.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="supplementary-details" href="#supplementary-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplementary Details</h2>
<p class="md-github">Configuration details extracted:</p>
<ul class="md-github">
<li class="md-github"><strong class="md-github">Input Options</strong>: 'limitInputPixels' (default: 268402689, set to false for no limit), 'autoOrient' (default: false), 'sequentialRead' (default: true), 'density' (default: 72).</li>
<li class="md-github"><strong class="md-github">Creation Options</strong>: Use 'create' object with properties: width, height, channels (3 or 4), background (color object/string), and noise (type: 'gaussian', mean, sigma).</li>
<li class="md-github"><strong class="md-github">Text Options</strong>: 'text' object with properties: text (UTF-8 string, supports Pango markup), font, fontfile, width, height, align, justify, dpi, rgba, spacing, and wrap style.</li>
<li class="md-github"><strong class="md-github">Join Options</strong>: 'join' object with properties: across (number of images horizontally), animated (boolean), shim (pixel gap), background, halign, and valign.</li>
<li class="md-github"><strong class="md-github">Metadata Options</strong>: Methods like withExif (accepts an object keyed by IFD labels), withIccProfile (accepts a file path or built-in names like 'srgb', 'p3', 'cmyk').</li>
<li class="md-github"><strong class="md-github">Format Conversion</strong>: Strict options for each converter:
<ul class="md-github">
<li class="md-github">jpeg: quality (default 80), chromaSubsampling ('4:2:0'), progressive flag, optimisation options.</li>
<li class="md-github">png: compressionLevel (default 6), progressive, adaptiveFiltering, quality, and palette settings.</li>
<li class="md-github">webp: quality (default 80), lossless, nearLossless, preset, effort, loop, delay.</li>
<li class="md-github">gif: reuse palette, colours (default 256), dither, inter-frame error thresholds.</li>
</ul>
</li>
<li class="md-github"><strong class="md-github">Build &amp; Deployment</strong>: Use environment variables (SHARP_IGNORE_GLOBAL_LIBVIPS, SHARP_FORCE_GLOBAL_LIBVIPS) and build commands (npm install --build-from-source). Troubleshooting includes checking node-addon-api/node-gyp installations and setting bundler exclusions.</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="reference-details" href="#reference-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference Details</h2>
<p class="md-github">Complete API Specifications and Implementation Details:</p>
<ol class="md-github">
<li class="md-github">
<p class="md-github">Constructor:</p>
<ul class="md-github">
<li class="md-github">Signature:
<code class="md-github">new Sharp(input?: Buffer|ArrayBuffer|Uint8Array|Uint8ClampedArray|Int8Array|Uint16Array|Int16Array|Uint32Array|Int32Array|Float32Array|Float64Array|string|Array, options?: Object)</code></li>
<li class="md-github">Options Object Properties:
• failOn: string (default 'warning')
• limitInputPixels: number | boolean (default 268402689)
• unlimited: boolean (default false)
• autoOrient: boolean (default false)
• sequentialRead: boolean (default true)
• density: number (default 72)
• ignoreIcc: boolean (default false)
• pages: number (default 1)
• page: number (default 0)
• subifd: number (default -1)
• level: number (default 0)
• pdfBackground: string | Object
• animated: boolean (default false)
• raw: Object { width: number, height: number, channels: number, premultiplied?: boolean }
• create: Object { width: number, height: number, channels: number, background: string|Object, noise?: { type: string, mean: number, sigma: number } }
• text: Object { text: string, font?: string, fontfile?: string, width?: number, height?: number, align?: string, justify?: boolean, dpi?: number, rgba?: boolean, spacing?: number, wrap?: string }
• join: Object { across: number, animated?: boolean, shim?: number, background?: string|Object, halign?: string, valign?: string }</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">clone() Method:</p>
<ul class="md-github">
<li class="md-github">Signature: <code class="md-github">clone() ⇒ Sharp</code></li>
<li class="md-github">Example:<pre class="md-github"><code class="md-github">const pipeline = sharp().rotate();
const clone1 = pipeline.clone().resize(800, 600);
const clone2 = pipeline.clone().extract({ left: 20, top: 20, width: 100, height: 100 });
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">metadata() Method:</p>
<ul class="md-github">
<li class="md-github">Signature: <code class="md-github">metadata([callback]) ⇒ Promise.&lt;Object&gt;</code></li>
<li class="md-github">Returns an object with properties:
{ format, size, width, height, space, channels, depth, density, chromaSubsampling, isProgressive, isPalette, bitsPerSample, pages, pageHeight, loop, delay, orientation, exif, icc, iptc, xmp, tifftagPhotoshop, formatMagick, comments }</li>
<li class="md-github">Example:<pre class="md-github"><code class="md-github">const metadata = await sharp(input).metadata();
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">stats() Method:</p>
<ul class="md-github">
<li class="md-github">Signature: <code class="md-github">stats([callback]) ⇒ Promise.&lt;Object&gt;</code></li>
<li class="md-github">Returns an object with:
{ channels: [{ min, max, sum, squaresSum, mean, stdev, minX, minY, maxX, maxY }], isOpaque, entropy, sharpness, dominant }</li>
<li class="md-github">Example:<pre class="md-github"><code class="md-github">const { dominant } = await sharp(input).stats();
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">toFile() Method:</p>
<ul class="md-github">
<li class="md-github">Signature: <code class="md-github">toFile(fileOut: string, [callback: function]) ⇒ Promise.&lt;Object&gt;</code></li>
<li class="md-github">Returns output info including: format, size, width, height, channels, premultiplied, cropOffsetLeft, cropOffsetTop, attentionX, attentionY, pageHeight, pages</li>
<li class="md-github">Example:<pre class="md-github"><code class="md-github">sharp(input).toFile('output.png', (err, info) =&gt; { /* use info */ });
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">toBuffer() Method:</p>
<ul class="md-github">
<li class="md-github">Signature: <code class="md-github">toBuffer([options], [callback]) ⇒ Promise.&lt;Buffer&gt;</code></li>
<li class="md-github">Options: { resolveWithObject?: boolean }</li>
<li class="md-github">Example:<pre class="md-github"><code class="md-github">sharp(input).toBuffer({ resolveWithObject: true })
  .then(({ data, info }) =&gt; { /* data: Buffer, info: output details */ });
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Metadata/Profile Methods:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">keepExif() ⇒ Sharp</code></li>
<li class="md-github"><code class="md-github">withExif(exif: Object) ⇒ Sharp</code></li>
<li class="md-github"><code class="md-github">withExifMerge(exif: Object) ⇒ Sharp</code></li>
<li class="md-github"><code class="md-github">keepIccProfile() ⇒ Sharp</code></li>
<li class="md-github"><code class="md-github">withIccProfile(icc: string, [options: { attach?: boolean }]) ⇒ Sharp</code></li>
<li class="md-github"><code class="md-github">keepMetadata() ⇒ Sharp</code></li>
<li class="md-github"><code class="md-github">withMetadata([options: { orientation?: number, density?: number }]) ⇒ Sharp</code></li>
<li class="md-github">Example:<pre class="md-github"><code class="md-github">sharp(input)
  .withExif({ IFD0: { Copyright: 'The National Gallery' } })
  .toBuffer();
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Format Conversion Methods (jpeg, png, webp, gif, etc.):</p>
<ul class="md-github">
<li class="md-github">
<p class="md-github"><strong class="md-github">jpeg(options: Object) ⇒ Sharp</strong>
Options: {
quality: number (default 80),
progressive: boolean (default false),
chromaSubsampling: string (default '4:2:0', use '4:4:4' to disable subsampling),
optimiseCoding: boolean (default true),
mozjpeg: boolean (default false),
trellisQuantisation: boolean,
overshootDeringing: boolean,
optimiseScans: boolean,
quantisationTable: number
}
Example:</p>
<pre class="md-github"><code class="md-github">sharp(input)
  .jpeg({ quality: 100, chromaSubsampling: '4:4:4' })
  .toBuffer();
</code></pre>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">png(options: Object) ⇒ Sharp</strong>
Options: {
progressive: boolean,
compressionLevel: number (default 6),
adaptiveFiltering: boolean,
palette: boolean,
quality: number,
effort: number,
colours: number (default 256),
dither: number (default 1.0),
force: boolean (default true)
}</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">webp(options: Object) ⇒ Sharp</strong>
Options: {
quality: number (default 80),
alphaQuality: number (default 100),
lossless: boolean,
nearLossless: boolean,
smartSubsample: boolean,
smartDeblock: boolean,
preset: string (default 'default'),
effort: number (default 4),
loop: number,
delay: number | Array<number>,
minSize: boolean,
mixed: boolean,
force: boolean
}</p>
</li>
<li class="md-github">
<p class="md-github"><strong class="md-github">gif(options: Object) ⇒ Sharp</strong>
Options: {
reuse: boolean (default true),
progressive: boolean,
colours: number (default 256),
effort: number (default 7),
dither: number (default 1.0),
interFrameMaxError: number,
interPaletteMaxError: number,
loop: number,
delay: number | Array<number>,
force: boolean
}</p>
</li>
<li class="md-github">
<p class="md-github">Other methods (<code class="md-github">jp2()</code>, <code class="md-github">tiff()</code>, <code class="md-github">avif()</code>, <code class="md-github">heif()</code>, <code class="md-github">jxl()</code>) follow similar option patterns with documented defaults.</p>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Best Practices &amp; Troubleshooting:</p>
<ul class="md-github">
<li class="md-github">Use <code class="md-github">npm install --build-from-source</code> when required by a global libvips.</li>
<li class="md-github">For cross-compiling, configure using npm flags: <code class="md-github">--platform</code>, <code class="md-github">--arch</code>, <code class="md-github">--libc</code>.</li>
<li class="md-github">Exclude sharp from bundling with proper externals settings for webpack/esbuild/electron.</li>
<li class="md-github">For AWS Lambda, deploy with the appropriate binary for the target architecture and avoid symlinks.</li>
<li class="md-github">If encountering build errors, ensure node-addon-api and node-gyp are installed via:<pre class="md-github"><code class="md-github">npm install --save node-addon-api node-gyp
</code></pre>
</li>
</ul>
</li>
</ol>
<p class="md-github">Full code examples and configurations are provided in the inline documentation above.</p>
<h2 class="md-github"><a class="md-github__anchor" name="original-source" href="#original-source"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Original Source</h2>
<p class="md-github">Sharp Image Processing
https://sharp.pixelplumbing.com/</p>
<h2 class="md-github"><a class="md-github__anchor" name="digest-of-sharp" href="#digest-of-sharp"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digest of SHARP</h2>
<h2 class="md-github"><a class="md-github__anchor" name="sharp-image-processing" href="#sharp-image-processing"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sharp Image Processing</h2>
<p class="md-github">Retrieved: 2023-10-10</p>
<h3 class="md-github"><a class="md-github__anchor" name="overview" href="#overview"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h3>
<ul class="md-github">
<li class="md-github">High performance Node.js image processing leveraging the libvips library for fast image resizing (4x-5x faster than ImageMagick and GraphicsMagick).</li>
<li class="md-github">Supports input and output in multiple formats including JPEG, PNG, WebP, GIF, AVIF, TIFF, and SVG.</li>
<li class="md-github">Compatible with Node.js (&gt;= 18.17.0), Deno, and Bun; utilizes Node-API v9.</li>
<li class="md-github">Handles colour spaces, embedded ICC profiles, alpha transparency, and uses Lanczos resampling for quality retention.</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="installation" href="#installation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h3>
<p class="md-github">Commands:</p>
<pre class="md-github"><code class="md-github">npm install sharp
pnpm add sharp
yarn add sharp
bun add sharp
</code></pre>
<p class="md-github">For pnpm, sharp might need to be added to ignoredBuiltDependencies or onlyBuiltDependencies to silence warnings.</p>
<h3 class="md-github"><a class="md-github__anchor" name="prebuilt-binaries--cross-platform-installation" href="#prebuilt-binaries--cross-platform-installation"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prebuilt Binaries &amp; Cross-platform Installation</h3>
<p class="md-github">Prebuilt binaries are available for:</p>
<ul class="md-github">
<li class="md-github">macOS x64 (&gt;= 10.15) and macOS ARM64</li>
<li class="md-github">Linux (ARM, ARM64, ppc64, s390x, x64 with glibc/musl requirements)</li>
<li class="md-github">Windows x64 and x86</li>
</ul>
<p class="md-github">Cross-platform support is enabled using installation flags such as:</p>
<pre class="md-github"><code class="md-github">npm install --cpu=x64 --os=darwin sharp
npm install --cpu=arm64 --os=darwin sharp
npm install --cpu=x64 --os=linux --libc=glibc sharp
npm install --cpu=x64 --os=linux --libc=musl sharp
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="custom-libvips-and-build-from-source" href="#custom-libvips-and-build-from-source"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom libvips and Build-from-Source</h3>
<ul class="md-github">
<li class="md-github">To use a custom, globally-installed libvips, ensure its version matches the version in config.libvips of package.json and is detectable via <code class="md-github">pkg-config --modversion vips-cpp</code>.</li>
<li class="md-github">Build from source is triggered if a global libvips is detected or if <code class="md-github">npm install --build-from-source</code> is used.</li>
<li class="md-github">Use environment variables: <code class="md-github">SHARP_IGNORE_GLOBAL_LIBVIPS</code> (to never use global libvips) or <code class="md-github">SHARP_FORCE_GLOBAL_LIBVIPS</code> (to force its use).</li>
<li class="md-github">Prerequisites include a C++17 compiler, node-addon-api (v7+), and node-gyp (v9+).</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="webassembly" href="#webassembly"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>WebAssembly</h3>
<p class="md-github">Experimental support for multi-threaded Wasm environments via Workers. Use:</p>
<pre class="md-github"><code class="md-github">npm install --cpu=wasm32 sharp
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="aws-lambda--bundler-integration" href="#aws-lambda--bundler-integration"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AWS Lambda &amp; Bundler Integration</h3>
<ul class="md-github">
<li class="md-github">AWS Lambda: Ensure the deployment package's node_modules includes binaries for linux-x64 or linux-arm64. Avoid symbolic links.</li>
<li class="md-github">Bundlers:
<ul class="md-github">
<li class="md-github">Webpack: Exclude sharp via the externals configuration:<pre class="md-github"><code class="md-github">externals: { 'sharp': 'commonjs sharp' }
</code></pre>
</li>
<li class="md-github">esbuild: Use the external configuration:<pre class="md-github"><code class="md-github">buildSync({ entryPoints: ['app.js'], bundle: true, platform: 'node', external: ['sharp'] });
</code></pre>
</li>
<li class="md-github">Electron: Configure asarUnpack/unpack options to exclude sharp from the ASAR archive.</li>
<li class="md-github">Vite: Exclude sharp via rollupOptions in the build configuration.</li>
</ul>
</li>
</ul>
<h3 class="md-github"><a class="md-github__anchor" name="api-constructor" href="#api-constructor"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API: Constructor</h3>
<p class="md-github"><strong class="md-github">Signature:</strong></p>
<pre class="md-github"><code class="md-github">new Sharp([input], [options])
</code></pre>
<p class="md-github"><strong class="md-github">Parameters:</strong></p>
<ul class="md-github">
<li class="md-github"><strong class="md-github">input</strong>: <code class="md-github">Buffer | ArrayBuffer | Uint8Array | Uint8ClampedArray | Int8Array | Uint16Array | Int16Array | Uint32Array | Int32Array | Float32Array | Float64Array | string | Array</code>
<ul class="md-github">
<li class="md-github">If provided, it can be a Buffer/ArrayBuffer/TypedArray containing image data in JPEG, PNG, WebP, AVIF, GIF, SVG, TIFF, or raw pixel data, or a string path to an image file. Arrays of inputs are concatenated.</li>
</ul>
</li>
<li class="md-github"><strong class="md-github">options</strong>: <code class="md-github">Object</code> (optional) with possible properties:
<ul class="md-github">
<li class="md-github"><strong class="md-github">failOn</strong>: <code class="md-github">string</code> (default: 'warning') - Determines when to abort on invalid pixel data.</li>
<li class="md-github"><strong class="md-github">limitInputPixels</strong>: <code class="md-github">number | boolean</code> (default: 268402689) - Maximum pixel count allowed.</li>
<li class="md-github"><strong class="md-github">unlimited</strong>: <code class="md-github">boolean</code> (default: false) - Removes safety limits if true.</li>
<li class="md-github"><strong class="md-github">autoOrient</strong>: <code class="md-github">boolean</code> (default: false) - Automatically rotates/flips based on EXIF Orientation.</li>
<li class="md-github"><strong class="md-github">sequentialRead</strong>: <code class="md-github">boolean</code> (default: true) - Use sequential read (can be set false for random access).</li>
<li class="md-github"><strong class="md-github">density</strong>: <code class="md-github">number</code> (default: 72) - DPI for vector images.</li>
<li class="md-github"><strong class="md-github">ignoreIcc</strong>: <code class="md-github">boolean</code> (default: false) - Ignores embedded ICC profiles.</li>
<li class="md-github"><strong class="md-github">pages</strong>, <strong class="md-github">page</strong>, <strong class="md-github">subifd</strong>, <strong class="md-github">level</strong>, <strong class="md-github">pdfBackground</strong>, <strong class="md-github">animated</strong>, <strong class="md-github">raw</strong>, <strong class="md-github">create</strong>, <strong class="md-github">text</strong>, <strong class="md-github">join</strong>: Additional options for multi-page images, raw pixel data, newly created images, text rendering, image joining, etc.</li>
</ul>
</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp('input.jpg')
  .resize(300, 200)
  .toFile('output.jpg', function(err) {
    // output.jpg is 300x200 resized from input.jpg
  });
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="api-clone" href="#api-clone"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API: clone()</h3>
<p class="md-github"><strong class="md-github">Signature:</strong></p>
<pre class="md-github"><code class="md-github">clone() ⇒ Sharp
</code></pre>
<p class="md-github">Creates a snapshot of the current Sharp instance to allow multiple processing pipelines.</p>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">const pipeline = sharp().rotate();
pipeline.clone().resize(800, 600).pipe(firstWritableStream);
pipeline.clone().extract({ left: 20, top: 20, width: 100, height: 100 }).pipe(secondWritableStream);
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="api-metadata-extraction" href="#api-metadata-extraction"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API: Metadata Extraction</h3>
<p class="md-github"><strong class="md-github">Signature:</strong></p>
<pre class="md-github"><code class="md-github">metadata([callback]) ⇒ Promise.&lt;Object&gt;
</code></pre>
<p class="md-github">Returns an object containing properties such as:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">format</code>, <code class="md-github">size</code>, <code class="md-github">width</code>, <code class="md-github">height</code>, <code class="md-github">space</code>, <code class="md-github">channels</code>, <code class="md-github">depth</code>, <code class="md-github">density</code>,</li>
<li class="md-github"><code class="md-github">chromaSubsampling</code>, <code class="md-github">isProgressive</code>, <code class="md-github">isPalette</code>, <code class="md-github">bitsPerSample</code>,</li>
<li class="md-github"><code class="md-github">pages</code>, <code class="md-github">pageHeight</code>, <code class="md-github">loop</code>, <code class="md-github">delay</code>, <code class="md-github">orientation</code>, and more.</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">const metadata = await sharp(input).metadata();
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="api-stats" href="#api-stats"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API: Stats</h3>
<p class="md-github"><strong class="md-github">Signature:</strong></p>
<pre class="md-github"><code class="md-github">stats([callback]) ⇒ Promise.&lt;Object&gt;
</code></pre>
<p class="md-github">Returns:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">channels</code>: Array of statistics for each channel (min, max, sum, squaresSum, mean, stdev, minX, minY, maxX, maxY).</li>
<li class="md-github"><code class="md-github">isOpaque</code>: Boolean, true if fully opaque.</li>
<li class="md-github"><code class="md-github">entropy</code>: Greyscale entropy estimation.</li>
<li class="md-github"><code class="md-github">sharpness</code>: Estimation based on Laplacian convolution.</li>
<li class="md-github"><code class="md-github">dominant</code>: Dominant sRGB color based on a 4096-bin histogram.</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">const { dominant } = await sharp(input).stats();
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="output-options" href="#output-options"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Output Options</h3>
<h4 class="md-github"><a class="md-github__anchor" name="tofile" href="#tofile"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>toFile</h4>
<p class="md-github"><strong class="md-github">Signature:</strong></p>
<pre class="md-github"><code class="md-github">toFile(fileOut, [callback]) ⇒ Promise.&lt;Object&gt;
</code></pre>
<p class="md-github">Writes the processed image to a file. The output format is inferred from the file extension, supporting JPEG, PNG, WebP, AVIF, TIFF, GIF, DZI, or raw pixel data.</p>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp(input)
  .toFile('output.png', (err, info) =&gt; { /* info contains format, size, dimensions, etc. */ });
</code></pre>
<h4 class="md-github"><a class="md-github__anchor" name="tobuffer" href="#tobuffer"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>toBuffer</h4>
<p class="md-github"><strong class="md-github">Signature:</strong></p>
<pre class="md-github"><code class="md-github">toBuffer([options], [callback]) ⇒ Promise.&lt;Buffer&gt;
</code></pre>
<p class="md-github">Options can include <code class="md-github">{ resolveWithObject: true }</code> to return an object with <code class="md-github">data</code> and <code class="md-github">info</code>.</p>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp(input)
  .toBuffer({ resolveWithObject: true })
  .then(({ data, info }) =&gt; { /* use data and info */ });
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="metadata-and-profile-handling" href="#metadata-and-profile-handling"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metadata and Profile Handling</h3>
<p class="md-github">Methods to manage image metadata:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">keepExif()</code>: Retain all EXIF metadata.</li>
<li class="md-github"><code class="md-github">withExif(exif)</code>: Set EXIF metadata (object keyed by IFD names).</li>
<li class="md-github"><code class="md-github">withExifMerge(exif)</code>: Merge provided EXIF data with existing metadata.</li>
<li class="md-github"><code class="md-github">keepIccProfile()</code>: Retain the input ICC profile.</li>
<li class="md-github"><code class="md-github">withIccProfile(icc, [options])</code>: Attach a specified ICC profile (filesystem path or built-in name such as 'srgb', 'p3', 'cmyk'); option <code class="md-github">attach</code> (default true).</li>
<li class="md-github"><code class="md-github">keepMetadata()</code>: Retain all metadata elements (EXIF, ICC, XMP, IPTC).</li>
<li class="md-github"><code class="md-github">withMetadata([options])</code>: Keep most metadata and optionally update orientation and density.</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp(input)
  .withExif({ IFD0: { Copyright: 'The National Gallery' } })
  .toBuffer();
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="format-conversion-methods" href="#format-conversion-methods"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format Conversion Methods</h3>
<h4 class="md-github"><a class="md-github__anchor" name="jpegoptions--sharp" href="#jpegoptions--sharp"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jpeg([options]) ⇒ Sharp</h4>
<p class="md-github">Options:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">quality</code>: number (default 80, range 1-100)</li>
<li class="md-github"><code class="md-github">progressive</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">chromaSubsampling</code>: string (default '4:2:0'; use '4:4:4' to prevent subsampling)</li>
<li class="md-github"><code class="md-github">optimiseCoding</code>/<code class="md-github">optimizeCoding</code>: boolean (default true)</li>
<li class="md-github"><code class="md-github">mozjpeg</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">trellisQuantisation</code>: boolean</li>
<li class="md-github"><code class="md-github">overshootDeringing</code>: boolean</li>
<li class="md-github"><code class="md-github">optimiseScans</code>/<code class="md-github">optimizeScans</code>: boolean</li>
<li class="md-github"><code class="md-github">quantisationTable</code>/<code class="md-github">quantizationTable</code>: number</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp(input)
  .jpeg({ quality: 100, chromaSubsampling: '4:4:4' })
  .toBuffer();
</code></pre>
<h4 class="md-github"><a class="md-github__anchor" name="pngoptions--sharp" href="#pngoptions--sharp"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>png([options]) ⇒ Sharp</h4>
<p class="md-github">Options:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">progressive</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">compressionLevel</code>: number (default 6)</li>
<li class="md-github"><code class="md-github">adaptiveFiltering</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">palette</code>: boolean (when true, produces indexed PNG output)</li>
<li class="md-github"><code class="md-github">quality</code>: number</li>
<li class="md-github"><code class="md-github">effort</code>: number</li>
<li class="md-github"><code class="md-github">colours</code>/<code class="md-github">colors</code>: number (default 256)</li>
<li class="md-github"><code class="md-github">dither</code>: number (default 1.0)</li>
<li class="md-github"><code class="md-github">force</code>: boolean (default true)</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp(input)
  .png({ palette: true })
  .toBuffer();
</code></pre>
<h4 class="md-github"><a class="md-github__anchor" name="webpoptions--sharp" href="#webpoptions--sharp"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>webp([options]) ⇒ Sharp</h4>
<p class="md-github">Options include:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">quality</code>: number (default 80)</li>
<li class="md-github"><code class="md-github">alphaQuality</code>: number (default 100)</li>
<li class="md-github"><code class="md-github">lossless</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">nearLossless</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">smartSubsample</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">smartDeblock</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">preset</code>: string (default 'default')</li>
<li class="md-github"><code class="md-github">effort</code>: number (default 4)</li>
<li class="md-github"><code class="md-github">loop</code>: number</li>
<li class="md-github"><code class="md-github">delay</code>: number or array of numbers</li>
<li class="md-github"><code class="md-github">minSize</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">mixed</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">force</code>: boolean (default true)</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp(input)
  .webp({ lossless: true })
  .toBuffer();
</code></pre>
<h4 class="md-github"><a class="md-github__anchor" name="gifoptions--sharp" href="#gifoptions--sharp"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gif([options]) ⇒ Sharp</h4>
<p class="md-github">Options include:</p>
<ul class="md-github">
<li class="md-github"><code class="md-github">reuse</code>: boolean (default true)</li>
<li class="md-github"><code class="md-github">progressive</code>: boolean (default false)</li>
<li class="md-github"><code class="md-github">colours</code>/<code class="md-github">colors</code>: number (default 256)</li>
<li class="md-github"><code class="md-github">effort</code>: number (default 7)</li>
<li class="md-github"><code class="md-github">dither</code>: number (default 1.0)</li>
<li class="md-github"><code class="md-github">interFrameMaxError</code>: number</li>
<li class="md-github"><code class="md-github">interPaletteMaxError</code>: number</li>
<li class="md-github"><code class="md-github">loop</code>: number</li>
<li class="md-github"><code class="md-github">delay</code>: number or array of numbers</li>
<li class="md-github"><code class="md-github">force</code>: boolean (default true)</li>
</ul>
<p class="md-github"><strong class="md-github">Example:</strong></p>
<pre class="md-github"><code class="md-github">sharp(pngBuffer)
  .gif()
  .toBuffer();
</code></pre>
<p class="md-github">Similar detailed options exist for <code class="md-github">jp2()</code>, <code class="md-github">tiff()</code>, <code class="md-github">avif()</code>, <code class="md-github">heif()</code>, and <code class="md-github">jxl()</code>, each with their own defined parameters and defaults.</p>
<h3 class="md-github"><a class="md-github__anchor" name="troubleshooting--best-practices" href="#troubleshooting--best-practices"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Troubleshooting &amp; Best Practices</h3>
<ul class="md-github">
<li class="md-github">When using glibc-based Linux, consider employing jemalloc to avoid memory fragmentation.</li>
<li class="md-github">For cross-compiling, use npm flags <code class="md-github">--platform</code>, <code class="md-github">--arch</code>, and <code class="md-github">--libc</code> to configure the target environment.</li>
<li class="md-github">If node-addon-api or node-gyp are missing, install via:<pre class="md-github"><code class="md-github"></code></pre>
</li>
</ul>
<p class="md-github">npm install --save node-addon-api node-gyp</p>
<pre class="md-github"><code class="md-github">- In bundlers, ensure sharp is excluded from bundling to prevent packaging issues (see webpack externals, esbuild external, electron asar unpacking).
- For AWS Lambda, ensure the deployment package contains the correct binary for the target platform and avoid the use of symbolic links.

## Attribution

- Data Size: 7630234 bytes
- Links Found: 18948
- Crawled from: https://sharp.pixelplumbing.com/


## Attribution
- Source: Sharp Image Processing
- URL: https://sharp.pixelplumbing.com/
- License: MIT
- Crawl Date: 2025-04-21T04:50:54.200Z
- Data Size: 7630234 bytes
- Links Found: 18948

## Retrieved
2025-04-21
</code></pre>

  </section>
  <footer>
    <p>Generated on 2025-04-21T12:27:08.213Z</p>
  </footer>
</body>
</html>