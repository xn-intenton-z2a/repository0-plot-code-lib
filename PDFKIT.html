<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="pdfkit" href="#pdfkit"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PDFKIT</h1>
<h2 class="md-github"><a class="md-github__anchor" name="crawl-summary" href="#crawl-summary"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crawl Summary</h2>
<p class="md-github">Installation via npm (<code class="md-github">npm install pdfkit</code>), creating documents using <code class="md-github">PDFDocument</code> with piping to writable streams (files or HTTP responses), browser usage with blob-stream, adding pages with flexible margin configurations (numeric, unit strings, or objects), page buffering and switching using <code class="md-github">bufferPages</code>, switching pages via <code class="md-github">switchToPage</code> followed by <code class="md-github">flushPages</code>, setting default fonts (default Helvetica or via <code class="md-github">font</code> option), document metadata setup using the <code class="md-github">info</code> object, encryption using <code class="md-github">userPassword</code>, <code class="md-github">ownerPassword</code> and a detailed <code class="md-github">permissions</code> object with values for printing, modifying, copying, annotating, form filling, content accessibility, and document assembly, and PDF/A conformance using subset settings and corresponding pdfVersion requirements.</p>
<h2 class="md-github"><a class="md-github__anchor" name="normalised-extract" href="#normalised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Normalised Extract</h2>
<p class="md-github">Table of Contents:</p>
<ol class="md-github">
<li class="md-github">
<p class="md-github">Installation</p>
<ul class="md-github">
<li class="md-github">Command: <code class="md-github">npm install pdfkit</code></li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Creating a Document</p>
<ul class="md-github">
<li class="md-github">Import module: <code class="md-github">const PDFDocument = require('pdfkit');</code></li>
<li class="md-github">Create instance: <code class="md-github">const doc = new PDFDocument();</code></li>
<li class="md-github">Pipe output: <code class="md-github">doc.pipe(fs.createWriteStream('/path/to/file.pdf'));</code></li>
<li class="md-github">Finalize with <code class="md-github">doc.end();</code></li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Using PDFKit in the Browser</p>
<ul class="md-github">
<li class="md-github">Use bundlers (Browserify/Webpack) or standalone script</li>
<li class="md-github">Example: Pipe output to blob-stream:<pre class="md-github"><code class="md-github language-javascript">const blobStream = require('blob-stream');
const doc = new PDFDocument();
const stream = doc.pipe(blobStream());
doc.end();
stream.on('finish', () =&gt; {
  const url = stream.toBlobURL('application/pdf');
  iframe.src = url;
});
</code></pre>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Adding Pages</p>
<ul class="md-github">
<li class="md-github">New page: <code class="md-github">doc.addPage();</code></li>
<li class="md-github">Custom margins:
<ul class="md-github">
<li class="md-github">Single value: <code class="md-github">{ margin: 50 }</code> or <code class="md-github">{ margin: '2in' }</code></li>
<li class="md-github">Font dependent: <code class="md-github">{ fontSize: 14, margin: '2em' }</code></li>
<li class="md-github">Object: <code class="md-github">{ margins: { top: 50, bottom: 50, left: 72, right: 72 } }</code></li>
</ul>
</li>
<li class="md-github">Page event: <code class="md-github">doc.on('pageAdded', () =&gt; doc.text('Page Title'));</code></li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Switching Pages</p>
<ul class="md-github">
<li class="md-github">Enable buffering: <code class="md-github">new PDFDocument({ bufferPages: true });</code></li>
<li class="md-github">Retrieve pages: <code class="md-github">const range = doc.bufferedPageRange();</code></li>
<li class="md-github">Change pages: <code class="md-github">doc.switchToPage(i);</code> then add content</li>
<li class="md-github">Flush pages: <code class="md-github">doc.flushPages();</code></li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Setting Default Font</p>
<ul class="md-github">
<li class="md-github">Set via constructor: <code class="md-github">new PDFDocument({ font: 'Courier' });</code> (<em class="md-github">Default is 'Helvetica'.</em>)</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Setting Document Metadata</p>
<ul class="md-github">
<li class="md-github">Define metadata in <code class="md-github">info</code> object with properties: Title, Author, Subject, Keywords, CreationDate, ModDate.</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Encryption and Access Privileges</p>
<ul class="md-github">
<li class="md-github">Options include:
<ul class="md-github">
<li class="md-github"><code class="md-github">userPassword</code>: string</li>
<li class="md-github"><code class="md-github">ownerPassword</code>: string</li>
<li class="md-github"><code class="md-github">permissions</code>: { printing: 'lowResolution'|'highResolution', modifying: boolean, copying: boolean, annotating: boolean, fillingForms: boolean, contentAccessibility: boolean, documentAssembly: boolean }</li>
<li class="md-github"><code class="md-github">pdfVersion</code>: string (e.g., '1.3', '1.4', '1.5', '1.6', '1.7', '1.7ext3')</li>
</ul>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">PDF/A Conformance</p>
<ul class="md-github">
<li class="md-github">Set subset values: 'PDF/A-1', 'PDF/A-1b', 'PDF/A-1a', 'PDF/A-2', 'PDF/A-2b', 'PDF/A-2a', 'PDF/A-3', 'PDF/A-3b', 'PDF/A-3a'</li>
<li class="md-github">Additional options: ensure correct <code class="md-github">pdfVersion</code> and <code class="md-github">tagged</code> flag</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Adding Content</p>
</li>
</ol>
<ul class="md-github">
<li class="md-github">Adding text with <code class="md-github">.text()</code>, images with <code class="md-github">.image()</code>, vector graphics with <code class="md-github">.moveTo()</code>, <code class="md-github">.lineTo()</code>, <code class="md-github">.fill()</code>, and annotations with <code class="md-github">.underline()</code> and <code class="md-github">.link()</code>.</li>
</ul>
<p class="md-github">All steps and configurations are directly applicable in development.</p>
<h2 class="md-github"><a class="md-github__anchor" name="supplementary-details" href="#supplementary-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplementary Details</h2>
<p class="md-github">Technical Specifications and Implementation Details:</p>
<ul class="md-github">
<li class="md-github">
<p class="md-github">npm Command: <code class="md-github">npm install pdfkit</code></p>
</li>
<li class="md-github">
<p class="md-github">PDFDocument Constructor Options:
• bufferPages: boolean (default false)
• font: string (default 'Helvetica'; override e.g., 'Courier')
• info: { Title: string, Author: string, Subject: string, Keywords: string, CreationDate: Date, ModDate: Date }
• Encryption Options:
- userPassword: string
- ownerPassword: string
- permissions: object with keys:
• printing: accepts 'lowResolution' or 'highResolution'
• modifying: boolean
• copying: boolean
• annotating: boolean
• fillingForms: boolean
• contentAccessibility: boolean
• documentAssembly: boolean
- pdfVersion: string; options:
• '1.3' (40-bit RC4), '1.4'/'1.5' (128-bit RC4), '1.6'/'1.7' (128-bit AES), '1.7ext3' (256-bit AES)</p>
</li>
<li class="md-github">
<p class="md-github">Margin Options in doc.addPage():
• Single value: number (in points) or string with units (em, in, px, cm, mm, etc.)
• Object: { top: number, bottom: number, left: number, right: number }</p>
</li>
<li class="md-github">
<p class="md-github">Page Buffering and Switching:</p>
<ol class="md-github">
<li class="md-github">Create document with { bufferPages: true }.</li>
<li class="md-github">Add pages using doc.addPage().</li>
<li class="md-github">Retrieve buffered pages with doc.bufferedPageRange().</li>
<li class="md-github">Switch page: doc.switchToPage(pageNumber).</li>
<li class="md-github">Update content, then flush using doc.flushPages() (automatically called on doc.end()).</li>
</ol>
</li>
<li class="md-github">
<p class="md-github">Browser Usage Implementation:
• Use Browserify or webpack to require modules:</p>
<pre class="md-github"><code class="md-github language-javascript">const PDFDocument = require('pdfkit');
const blobStream = require('blob-stream');
</code></pre>
<p class="md-github">• Create document, pipe to blob-stream, end document, and then retrieve Blob or URL.</p>
</li>
<li class="md-github">
<p class="md-github">Encryption Best Practices:
• Always specify both userPassword and ownerPassword if limited access is necessary.
• Set detailed permissions explicitly as per requirements.
• Choose pdfVersion based on desired encryption strength and compatibility.</p>
</li>
<li class="md-github">
<p class="md-github">PDF/A Conformance Requirements:
• Set 'subset' option appropriately.
• For PDF/A-1a: set tagged to true and pdfVersion at least 1.4; for PDF/A-2/3: set pdfVersion to at least 1.7 and tagged to true.
• Use embeddable TrueType fonts via registerFont() to meet PDF/A standards.</p>
</li>
</ul>
<p class="md-github">Implementation Steps are documented in the code examples provided above.</p>
<h2 class="md-github"><a class="md-github__anchor" name="reference-details" href="#reference-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference Details</h2>
<p class="md-github">Complete API Specifications and Code Examples:</p>
<ol class="md-github">
<li class="md-github">Creating and Saving a PDF Document (Node):</li>
</ol>
<pre class="md-github"><code class="md-github language-javascript">// Import the required modules
const PDFDocument = require('pdfkit');
const fs = require('fs');

// Create a new PDFDocument with metadata and default font override
const doc = new PDFDocument({
  font: 'Courier',
  info: {
    Title: 'Sample PDF',
    Author: 'Author Name',
    Subject: 'PDFKit Example',
    Keywords: 'PDF, Node, PDFKit',
    CreationDate: new Date(),
    ModDate: new Date()
  }
});

// Pipe the PDF document to a file
doc.pipe(fs.createWriteStream('output.pdf'));

// Add embedded text with custom font
doc.font('fonts/PalatinoBold.ttf')
   .fontSize(25)
   .text('Some text with an embedded font!', 100, 100);

// Add an image with specified dimensions and alignment
doc.image('path/to/image.png', {
  fit: [250, 300],
  align: 'center',
  valign: 'center'
});

// Add a new page with a 2-inch margin
doc.addPage({ margin: '2in' });

// Draw vector graphics (triangle example)
doc.save()
   .moveTo(100, 150)
   .lineTo(100, 250)
   .lineTo(200, 250)
   .fill('#FF3300')
   .restore();

// Add a page with annotations and clickable link
doc.addPage()
   .fillColor('blue')
   .text('Here is a link!', 100, 100)
   .underline(100, 100, 160, 27, { color: '#0000FF' })
   .link(100, 100, 160, 27, 'http://google.com/');

// Finalize PDF file
doc.end();
</code></pre>
<ol start="2" class="md-github">
<li class="md-github">Encryption and Access Privileges:</li>
</ol>
<pre class="md-github"><code class="md-github language-javascript">const secureDoc = new PDFDocument({
  userPassword: 'userPass',
  ownerPassword: 'ownerPass',
  permissions: {
    printing: 'highResolution', // Choose between 'lowResolution' and 'highResolution'
    modifying: true,
    copying: true,
    annotating: true,
    fillingForms: true,
    contentAccessibility: true,
    documentAssembly: true
  },
  pdfVersion: '1.7ext3' // For 256-bit AES encryption
});
// Pipe and add content as with standard document
secureDoc.pipe(fs.createWriteStream('secure_output.pdf'));
// ... add content ...
secureDoc.end();
</code></pre>
<ol start="3" class="md-github">
<li class="md-github">Switching Pages with Buffering:</li>
</ol>
<pre class="md-github"><code class="md-github language-javascript">const bufferedDoc = new PDFDocument({ bufferPages: true });

bufferedDoc.addPage();
// Add content to first page

bufferedDoc.addPage();
// Add content to second page

// Retrieve buffered page range
const range = bufferedDoc.bufferedPageRange(); // e.g., { start: 0, count: 2 }

// Loop through pages and add a page number
for (let i = range.start; i &lt; range.start + range.count; i++) {
  bufferedDoc.switchToPage(i);
  bufferedDoc.text(`Page ${i + 1} of ${range.count}`, 50, 50);
}

// Flush buffered pages (doc.end() automatically calls flushPages if needed)
bufferedDoc.flushPages();
bufferedDoc.end();
</code></pre>
<ol start="4" class="md-github">
<li class="md-github">Using PDFKit in the Browser with blob-stream:</li>
</ol>
<pre class="md-github"><code class="md-github language-javascript">const PDFDocument = require('pdfkit');
const blobStream = require('blob-stream');

const docBrowser = new PDFDocument();
const stream = docBrowser.pipe(blobStream());

// Add content as required

docBrowser.text('Hello from PDFKit in the browser!', 100, 100);

docBrowser.end();

stream.on('finish', function() {
  // Obtain a Blob URL and assign to an iframe
  const url = stream.toBlobURL('application/pdf');
  document.getElementById('pdfFrame').src = url;
});
</code></pre>
<p class="md-github">Troubleshooting Procedures:</p>
<ul class="md-github">
<li class="md-github">Verify module installation: run <code class="md-github">npm install pdfkit blob-stream</code></li>
<li class="md-github">For browser builds with Browserify, ensure <code class="md-github">brfs</code> is installed: <code class="md-github">npm install brfs --save-dev</code></li>
<li class="md-github">Confirm file paths for fonts and images are correct.</li>
<li class="md-github">Check encryption settings if password truncation issues occur (UTF-8 vs. Latin-1 based on pdfVersion).</li>
<li class="md-github">Use veraPDF validator to test PDF/A conformance.</li>
</ul>
<p class="md-github">Return Types &amp; Exceptions:</p>
<ul class="md-github">
<li class="md-github">Most PDFDocument methods return the instance for chaining.</li>
<li class="md-github">Stream errors can be handled via <code class="md-github">.on('error', handler)</code> on the piped stream.</li>
</ul>
<p class="md-github">These API specifications, full code examples, configuration details, and troubleshooting steps provide complete direct technical guidance for using PDFKit without requiring additional references.</p>
<h2 class="md-github"><a class="md-github__anchor" name="original-source" href="#original-source"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Original Source</h2>
<p class="md-github">PDFKit Documentation
https://pdfkit.org/docs/getting_started.html</p>
<h2 class="md-github"><a class="md-github__anchor" name="digest-of-pdfkit" href="#digest-of-pdfkit"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digest of PDFKIT</h2>
<pre class="md-github"><code class="md-github"># PDFKit Documentation

Date Retrieved: 2023-10-05

## Installation

- Command: `npm install pdfkit`

## Creating a Document

Create a PDF document in Node:

```javascript
const PDFDocument = require('pdfkit');
const fs = require('fs');

// Create a new PDFDocument instance
const doc = new PDFDocument();

// Pipe the PDF into a writable stream
doc.pipe(fs.createWriteStream('/path/to/file.pdf'));

// Add content using methods (e.g., text, image, vector graphics, etc.)

// Finalize the document
doc.end();
</code></pre>
<p class="md-github"><em class="md-github">Note: PDFDocument instances are readable Node streams. Pre-0.5 methods <code class="md-github">write</code> and <code class="md-github">output</code> are deprecated.</em></p>
<h2 class="md-github"><a class="md-github__anchor" name="using-pdfkit-in-the-browser" href="#using-pdfkit-in-the-browser"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using PDFKit in the Browser</h2>
<p class="md-github">Browser usage can be accomplished by bundling with Browserify or Webpack, or using a standalone script. Example using blob-stream:</p>
<pre class="md-github"><code class="md-github language-javascript">const PDFDocument = require('pdfkit');
const blobStream  = require('blob-stream');

// Create a new document
const doc = new PDFDocument();

// Pipe the document to a blob stream
const stream = doc.pipe(blobStream());

// Add content as usual
// ...

doc.end();
stream.on('finish', function() {
  // Obtain a Blob
  const blob = stream.toBlob('application/pdf');

  // Or get a blob URL for display
  const url = stream.toBlobURL('application/pdf');
  iframe.src = url;
});
</code></pre>
<p class="md-github"><em class="md-github">For Browserify builds, install the <code class="md-github">brfs</code> module: <code class="md-github">npm install brfs --save-dev</code></em></p>
<h2 class="md-github"><a class="md-github__anchor" name="adding-pages" href="#adding-pages"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding Pages</h2>
<ul class="md-github">
<li class="md-github">The first page is automatically added unless <code class="md-github">autoFirstPage: false</code> is specified.</li>
<li class="md-github">To add new pages:</li>
</ul>
<pre class="md-github"><code class="md-github language-javascript">// Add a new page
doc.addPage();
</code></pre>
<ul class="md-github">
<li class="md-github">Example with custom margins:</li>
</ul>
<pre class="md-github"><code class="md-github language-javascript">// 50 point margin on all sides
doc.addPage({ margin: 50 });

// 2 inch margin on all sides
doc.addPage({ margin: '2in' });

// 2em (28pt) margin with specified font size
doc.addPage({ fontSize: 14, margin: '2em' });

// Different margins per side
doc.addPage({
  margins: {
    top: 50,
    bottom: 50,
    left: 72,
    right: 72
  }
});
</code></pre>
<ul class="md-github">
<li class="md-github">You can set a page event:</li>
</ul>
<pre class="md-github"><code class="md-github language-javascript">doc.on('pageAdded', () =&gt; doc.text('Page Title'));
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="switching-pages" href="#switching-pages"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Switching Pages</h2>
<p class="md-github">Enable page buffering to modify content on previous pages:</p>
<pre class="md-github"><code class="md-github language-javascript">// Create document with buffering enabled
const doc = new PDFDocument({ bufferPages: true });

// Add multiple pages
doc.addPage();
// ... add content ...
doc.addPage();

// Retrieve buffered pages range
const range = doc.bufferedPageRange(); // returns { start, count }

// Switch to a specific page and add content
for (let i = range.start; i &lt; range.start + range.count; i++) {
  doc.switchToPage(i);
  doc.text(`Page ${i + 1} of ${range.count}`);
}

// Flush buffered pages
doc.flushPages();

doc.end();
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="setting-default-font" href="#setting-default-font"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Default Font</h2>
<p class="md-github">Default font is 'Helvetica'. To change it:</p>
<pre class="md-github"><code class="md-github language-javascript">const doc = new PDFDocument({ font: 'Courier' });
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="setting-document-metadata" href="#setting-document-metadata"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Document Metadata</h2>
<p class="md-github">You can set metadata via the <code class="md-github">info</code> object (first letter capitalized):</p>
<pre class="md-github"><code class="md-github language-javascript">const doc = new PDFDocument({
  info: {
    Title: 'Document Title',
    Author: 'Author Name',
    Subject: 'Document Subject',
    Keywords: 'keyword1, keyword2',
    CreationDate: new Date(), // auto-added by PDFKit normally
    ModDate: new Date()
  }
});
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="encryption-and-access-privileges" href="#encryption-and-access-privileges"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Encryption and Access Privileges</h2>
<p class="md-github">Enable encryption by providing passwords and permissions in the constructor options:</p>
<pre class="md-github"><code class="md-github language-javascript">const secureDoc = new PDFDocument({
  userPassword: 'userPass',
  ownerPassword: 'ownerPass',
  permissions: {
    printing: 'highResolution',    // or 'lowResolution'
    modifying: true,
    copying: true,
    annotating: true,
    fillingForms: true,
    contentAccessibility: true,
    documentAssembly: true
  },
  pdfVersion: '1.7ext3' // Determines encryption method (256-bit AES for 1.7ext3)
});
</code></pre>
<p class="md-github"><em class="md-github">Behavior based on provided passwords:</em></p>
<ul class="md-github">
<li class="md-github">Only userPassword: full access for user</li>
<li class="md-github">Only ownerPassword: opens without password but limited to permissions</li>
<li class="md-github">Both provided: user gets limited access as per permissions</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="pdfa-conformance" href="#pdfa-conformance"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PDF/A Conformance</h2>
<p class="md-github">Set PDF/A subsets by specifying the <code class="md-github">subset</code> option in PDFDocument constructor along with other necessary flags:</p>
<ul class="md-github">
<li class="md-github">For PDF/A-1b (Level B):
<ul class="md-github">
<li class="md-github"><code class="md-github">subset: 'PDF/A-1'</code> or <code class="md-github">'PDF/A-1b'</code>, with pdfVersion at least 1.4</li>
</ul>
</li>
<li class="md-github">For PDF/A-1a (Level A):
<ul class="md-github">
<li class="md-github"><code class="md-github">subset: 'PDF/A-1a'</code> and tagged set to true</li>
</ul>
</li>
<li class="md-github">Similarly for PDF/A-2 and PDF/A-3 with pdfVersion set to at least 1.7</li>
</ul>
<p class="md-github"><em class="md-github">Note: Embedded fonts are required; use registerFont() with TrueType fonts (ttf) instead of built-in AFM fonts.</em></p>
<h2 class="md-github"><a class="md-github__anchor" name="adding-content" href="#adding-content"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding Content</h2>
<p class="md-github">Add text, images, and vector graphics using built-in methods:</p>
<pre class="md-github"><code class="md-github language-javascript">// Add text with a specific font and font size
doc.font('fonts/PalatinoBold.ttf')
   .fontSize(25)
   .text('Some text with an embedded font!', 100, 100);

// Add an image with constraints
doc.image('path/to/image.png', {
  fit: [250, 300],
  align: 'center',
  valign: 'center'
});

// Draw vector graphics (e.g., a triangle)
doc.save()
   .moveTo(100, 150)
   .lineTo(100, 250)
   .lineTo(200, 250)
   .fill('#FF3300')
   .restore();

// Add page with annotations and links
doc.addPage()
   .fillColor('blue')
   .text('Here is a link!', 100, 100)
   .underline(100, 100, 160, 27, { color: '#0000FF' })
   .link(100, 100, 160, 27, 'http://google.com/');
</code></pre>
<pre class="md-github"><code class="md-github">
## Attribution
- Source: PDFKit Documentation
- URL: https://pdfkit.org/docs/getting_started.html
- License: MIT
- Crawl Date: 2025-04-20T19:06:20.627Z
- Data Size: 922356 bytes
- Links Found: 954

## Retrieved
2025-04-20
</code></pre>

  </section>
  <footer>
    <p>Generated on 2025-04-20T19:22:08.929Z</p>
  </footer>
</body>
</html>