<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>agentic-lib</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>agentic-lib</h1>
    <p><a href="https://github.com/xn-intenton-z2a/agentic-lib">repository</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/agentic-lib/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="esmodules" href="#esmodules"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ESMODULES</h1>
<h2 class="md-github"><a class="md-github__anchor" name="crawl-summary" href="#crawl-summary"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Crawl Summary</h2>
<p class="md-github">ES Modules in Node.js support both static and dynamic import mechanisms, require explicit file extensions, and are enabled via .mjs extension, package.json type field, or --input-type flag. The resolution algorithm (ESM_RESOLVE) processes relative, absolute, bare specifiers and applies URL encoding. Import attributes permit inline specification (e.g., type: 'json') and import.meta provides module metadata. Detailed algorithms include PACKAGE_RESOLVE, PACKAGE_SELF_RESOLVE, and ESM_FILE_FORMAT with precise error handling and fallback procedures.</p>
<h2 class="md-github"><a class="md-github__anchor" name="normalised-extract" href="#normalised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Normalised Extract</h2>
<p class="md-github">Table of Contents:</p>
<ol class="md-github">
<li class="md-github">ECMAScript Module Usage
<ul class="md-github">
<li class="md-github">Enabling Modules with .mjs, package.json &quot;type&quot;: &quot;module&quot;, or --input-type flag</li>
<li class="md-github">Import specifiers: relative ('./file.js'), bare ('package' resolved via node_modules), and absolute (file:///path/to/file.js)</li>
</ul>
</li>
<li class="md-github">URL and File Resolution
<ul class="md-github">
<li class="md-github">Resolution using URL semantics with percent encoding</li>
<li class="md-github">Usage of url.pathToFileURL for path conversion</li>
</ul>
</li>
<li class="md-github">Import Attributes
<ul class="md-github">
<li class="md-github">Syntax: import data from './data.json' with { type: 'json' }</li>
<li class="md-github">Mandatory for JSON modules</li>
</ul>
</li>
<li class="md-github">Built-in Modules and Dynamic Import
<ul class="md-github">
<li class="md-github">Built-in modules usage (e.g., import fs from 'node:fs')</li>
<li class="md-github">Dynamic import() in both ESM and CommonJS</li>
</ul>
</li>
<li class="md-github">import.meta Object
<ul class="md-github">
<li class="md-github">Properties: import.meta.dirname, import.meta.filename, import.meta.url, import.meta.resolve(specifier)</li>
</ul>
</li>
<li class="md-github">Module Resolution Algorithm
<ul class="md-github">
<li class="md-github">ESM_RESOLVE(specifier, parentURL): returns format and resolved URL</li>
<li class="md-github">PACKAGE_RESOLVE for bare specifiers, handling package name, subpath, package.json &quot;exports&quot;, and main field</li>
<li class="md-github">ESM_FILE_FORMAT determines module type based on file extension and package.json &quot;type&quot;
Detailed Topics:</li>
</ul>
</li>
<li class="md-github">ECMAScript Module Usage:
<ul class="md-github">
<li class="md-github">Use .mjs extension or &quot;type&quot;: &quot;module&quot; in package.json</li>
<li class="md-github">Fallback resolution based on module syntax detection</li>
</ul>
</li>
<li class="md-github">URL and File Resolution:
<ul class="md-github">
<li class="md-github">Resolve relative URLs from parentURL</li>
<li class="md-github">Enforce correct percent encoding (e.g., '#' as '%23')</li>
<li class="md-github">Validate existence and directory restrictions</li>
</ul>
</li>
<li class="md-github">Import Attributes and JSON Modules:
<ul class="md-github">
<li class="md-github">Syntax requires with clause: { type: 'json' }</li>
<li class="md-github">Only default export available for JSON imports</li>
</ul>
</li>
<li class="md-github">Built-in Modules and Dynamic Import:
<ul class="md-github">
<li class="md-github">Built-in modules accessible using 'node:' prefix</li>
<li class="md-github">Dynamic import seamless in both module types</li>
</ul>
</li>
<li class="md-github">import.meta Details:
<ul class="md-github">
<li class="md-github">import.meta.dirname: directory path</li>
<li class="md-github">import.meta.filename: resolved absolute file path</li>
<li class="md-github">import.meta.url: file protocol URL</li>
<li class="md-github">import.meta.resolve(specifier): synchronously resolves a module specifier</li>
</ul>
</li>
<li class="md-github">Module Resolution Algorithm:
<ul class="md-github">
<li class="md-github">ESM_RESOLVE validates and returns module format ('module', 'commonjs', 'json', 'wasm', 'addon')</li>
<li class="md-github">PACKAGE_RESOLVE handles bare specifiers, leveraging package.json exports</li>
<li class="md-github">Detailed error cases: Invalid Module Specifier, Package Path Not Exported, Module Not Found</li>
</ul>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="supplementary-details" href="#supplementary-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplementary Details</h2>
<p class="md-github">Implementation Details:</p>
<ol class="md-github">
<li class="md-github">
<p class="md-github">Enabling ECMAScript Modules:</p>
<ul class="md-github">
<li class="md-github">File Extensions: .mjs for ES modules, .cjs for CommonJS</li>
<li class="md-github">package.json: { &quot;type&quot;: &quot;module&quot; } enables ES module behavior</li>
<li class="md-github">CLI Flag: --input-type=module</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">import.meta Methods:</p>
<ul class="md-github">
<li class="md-github">import.meta.resolve(specifier: string, parent?: string | URL): string
<ul class="md-github">
<li class="md-github">Returns the absolute URL for the module specifier</li>
<li class="md-github">Throws error if specifier cannot be resolved</li>
</ul>
</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Module Resolution Functions:</p>
<ul class="md-github">
<li class="md-github">ESM_RESOLVE(specifier, parentURL) returns { format: string, resolved: string }</li>
<li class="md-github">PACKAGE_RESOLVE(packageSpecifier, parentURL) processes bare specifiers</li>
<li class="md-github">ESM_FILE_FORMAT(url): Evaluates file extension (.mjs -&gt; 'module', .cjs -&gt; 'commonjs', .json -&gt; 'json')</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Configuration Options:</p>
<ul class="md-github">
<li class="md-github">Experimental flags: --experimental-wasm-modules enable WASM support; --experimental-addon-modules for .node addons</li>
<li class="md-github">URL resolution settings: No default extensions, no folder mains, bare specifier lookup via node_modules</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Concrete Best Practices:</p>
<ul class="md-github">
<li class="md-github">Always specify file extensions for imports</li>
<li class="md-github">Use import.meta.url for relative resource resolution</li>
<li class="md-github">Use module.createRequire() in ES modules when CommonJS functionality (e.g. require.resolve) is needed</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Troubleshooting:</p>
<ul class="md-github">
<li class="md-github">Error: &quot;Invalid Module Specifier&quot; when file paths are not fully qualified</li>
<li class="md-github">Command: node --input-type=module app.mjs; check that file paths include proper extensions</li>
<li class="md-github">Validate package.json exports configuration for packages to ensure module paths are correctly exported</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Code Example:
// ES Module Example (addTwo.mjs)
function addTwo(num) {
return num + 2;
}
export { addTwo };</p>
<p class="md-github">// Importing the module (app.mjs)
import { addTwo } from './addTwo.mjs';
console.log(addTwo(4));</p>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="reference-details" href="#reference-details"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference Details</h2>
<p class="md-github">API Specifications and SDK Details:</p>
<ol class="md-github">
<li class="md-github">
<p class="md-github">import.meta.resolve(specifier, parent):</p>
<ul class="md-github">
<li class="md-github">Signature: import.meta.resolve(specifier: string, parent?: string | URL): string</li>
<li class="md-github">Returns: absolute URL string</li>
<li class="md-github">Exceptions: Throws Error if specifier is invalid or cannot be resolved</li>
<li class="md-github">Example Usage:
const assetURL = import.meta.resolve('component-lib/asset.css');
// Returns: file:///app/node_modules/component-lib/asset.css</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">ESM_RESOLVE(specifier, parentURL):</p>
<ul class="md-github">
<li class="md-github">Process: Validates if specifier is a valid URL; if relative, uses URL resolution relative to parentURL; resolves bare specifiers via PACKAGE_RESOLVE</li>
<li class="md-github">Returns: Object { format: 'module' | 'commonjs' | 'json' | 'wasm' | 'addon', resolved: string }</li>
<li class="md-github">Error Cases: Invalid Module Specifier, Module Not Found, Unsupported Directory Import</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">ESM_FILE_FORMAT(url):</p>
<ul class="md-github">
<li class="md-github">Logic:
if url ends in .mjs then return 'module'
if url ends in .cjs then return 'commonjs'
if url ends in .json then return 'json'
if experimental flags enabled, then .wasm returns 'wasm', .node returns 'addon'
else use DETECT_MODULE_SYNTAX(source) to return 'module' or 'commonjs'</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">PACKAGE_RESOLVE(packageSpecifier, parentURL):</p>
<ul class="md-github">
<li class="md-github">Extract packageName and packageSubpath</li>
<li class="md-github">Lookup package.json in node_modules hierarchy</li>
<li class="md-github">Returns resolved URL based on main field or exports mapping</li>
<li class="md-github">Errors: Invalid Package Configuration, Package Path Not Exported</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">SDK Method Signatures (example for module.createRequire):</p>
<ul class="md-github">
<li class="md-github">Signature: module.createRequire(filename: string): NodeJS.Require</li>
<li class="md-github">Returns: A require function that can be used to load CommonJS modules</li>
<li class="md-github">Usage: const require = module.createRequire(import.meta.url);</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Troubleshooting Procedures:</p>
<ul class="md-github">
<li class="md-github">Command: node --input-type=module app.mjs</li>
<li class="md-github">Expected Output: Proper resolution of modules with no &quot;Invalid Module Specifier&quot; errors</li>
<li class="md-github">Check file extension correctness and package.json configuration if errors occur</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Best Practices:</p>
<ul class="md-github">
<li class="md-github">Always use absolute URL resolution with import.meta.url for relative assets</li>
<li class="md-github">Validate package.json exports to avoid resolution errors</li>
<li class="md-github">For CommonJS interop, use module.createRequire to access require.resolve and require.cache</li>
</ul>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="information-dense-extract" href="#information-dense-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Information Dense Extract</h2>
<p class="md-github">ESM enabled via .mjs or package.json type 'module', CLI flag --input-type; import specifiers: relative, bare, absolute; URL resolution with percent encoding; import attributes with syntax 'with { type: &quot;json&quot; }'; import.meta provides dirname, filename, url, resolve; Resolution algorithm: ESM_RESOLVE returns {format, resolved}; PACKAGE_RESOLVE handles bare specifiers and package.json exports; ESM_FILE_FORMAT returns module types based on extension; API: import.meta.resolve(specifier: string, parent?: string|URL): string; module.createRequire(filename: string): NodeJS.Require; Config flags: --experimental-wasm-modules, --experimental-addon-modules; Best practices: specify file extensions, use module.createRequire for CommonJS interop; Troubleshooting: check full file paths, validate package.json exports; Code example: function addTwo(num) { return num + 2; } export { addTwo }; Import using import { addTwo } from './addTwo.mjs';</p>
<h2 class="md-github"><a class="md-github__anchor" name="sanitised-extract" href="#sanitised-extract"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sanitised Extract</h2>
<p class="md-github">Table of Contents:</p>
<ol class="md-github">
<li class="md-github">ECMAScript Module Usage
<ul class="md-github">
<li class="md-github">Enabling Modules with .mjs, package.json 'type': 'module', or --input-type flag</li>
<li class="md-github">Import specifiers: relative ('./file.js'), bare ('package' resolved via node_modules), and absolute (file:///path/to/file.js)</li>
</ul>
</li>
<li class="md-github">URL and File Resolution
<ul class="md-github">
<li class="md-github">Resolution using URL semantics with percent encoding</li>
<li class="md-github">Usage of url.pathToFileURL for path conversion</li>
</ul>
</li>
<li class="md-github">Import Attributes
<ul class="md-github">
<li class="md-github">Syntax: import data from './data.json' with { type: 'json' }</li>
<li class="md-github">Mandatory for JSON modules</li>
</ul>
</li>
<li class="md-github">Built-in Modules and Dynamic Import
<ul class="md-github">
<li class="md-github">Built-in modules usage (e.g., import fs from 'node:fs')</li>
<li class="md-github">Dynamic import() in both ESM and CommonJS</li>
</ul>
</li>
<li class="md-github">import.meta Object
<ul class="md-github">
<li class="md-github">Properties: import.meta.dirname, import.meta.filename, import.meta.url, import.meta.resolve(specifier)</li>
</ul>
</li>
<li class="md-github">Module Resolution Algorithm
<ul class="md-github">
<li class="md-github">ESM_RESOLVE(specifier, parentURL): returns format and resolved URL</li>
<li class="md-github">PACKAGE_RESOLVE for bare specifiers, handling package name, subpath, package.json 'exports', and main field</li>
<li class="md-github">ESM_FILE_FORMAT determines module type based on file extension and package.json 'type'
Detailed Topics:</li>
</ul>
</li>
<li class="md-github">ECMAScript Module Usage:
<ul class="md-github">
<li class="md-github">Use .mjs extension or 'type': 'module' in package.json</li>
<li class="md-github">Fallback resolution based on module syntax detection</li>
</ul>
</li>
<li class="md-github">URL and File Resolution:
<ul class="md-github">
<li class="md-github">Resolve relative URLs from parentURL</li>
<li class="md-github">Enforce correct percent encoding (e.g., '#' as '%23')</li>
<li class="md-github">Validate existence and directory restrictions</li>
</ul>
</li>
<li class="md-github">Import Attributes and JSON Modules:
<ul class="md-github">
<li class="md-github">Syntax requires with clause: { type: 'json' }</li>
<li class="md-github">Only default export available for JSON imports</li>
</ul>
</li>
<li class="md-github">Built-in Modules and Dynamic Import:
<ul class="md-github">
<li class="md-github">Built-in modules accessible using 'node:' prefix</li>
<li class="md-github">Dynamic import seamless in both module types</li>
</ul>
</li>
<li class="md-github">import.meta Details:
<ul class="md-github">
<li class="md-github">import.meta.dirname: directory path</li>
<li class="md-github">import.meta.filename: resolved absolute file path</li>
<li class="md-github">import.meta.url: file protocol URL</li>
<li class="md-github">import.meta.resolve(specifier): synchronously resolves a module specifier</li>
</ul>
</li>
<li class="md-github">Module Resolution Algorithm:
<ul class="md-github">
<li class="md-github">ESM_RESOLVE validates and returns module format ('module', 'commonjs', 'json', 'wasm', 'addon')</li>
<li class="md-github">PACKAGE_RESOLVE handles bare specifiers, leveraging package.json exports</li>
<li class="md-github">Detailed error cases: Invalid Module Specifier, Package Path Not Exported, Module Not Found</li>
</ul>
</li>
</ol>
<h2 class="md-github"><a class="md-github__anchor" name="original-source" href="#original-source"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Original Source</h2>
<p class="md-github">ES Modules in Node.js Documentation
https://nodejs.org/api/esm.html</p>
<h2 class="md-github"><a class="md-github__anchor" name="digest-of-esmodules" href="#digest-of-esmodules"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digest of ESMODULES</h2>
<h1 class="md-github"><a class="md-github__anchor" name="introduction-retrieved-2023-11-24" href="#introduction-retrieved-2023-11-24"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>INTRODUCTION (Retrieved: 2023-11-24)</h1>
<p class="md-github">ECMAScript Modules (ESM) are the standard format for packaging JavaScript code. They support export/import syntax and interoperate with CommonJS. The documentation covers both usage and internal resolution algorithms.</p>
<h1 class="md-github"><a class="md-github__anchor" name="enabling" href="#enabling"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ENABLING</h1>
<ul class="md-github">
<li class="md-github">Use .mjs file extension, or set package.json &quot;type&quot; to &quot;module&quot; for ES modules.</li>
<li class="md-github">Alternatively, explicitly set --input-type flag to &quot;module&quot; for ES modules and &quot;commonjs&quot; for CommonJS.</li>
</ul>
<h1 class="md-github"><a class="md-github__anchor" name="import-specifiers" href="#import-specifiers"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>IMPORT SPECIFIERS</h1>
<ul class="md-github">
<li class="md-github">Relative Specifiers: e.g. './startup.js'</li>
<li class="md-github">Bare Specifiers: e.g. 'some-package' (resolved via node_modules and package.json &quot;exports&quot;)</li>
<li class="md-github">Absolute Specifiers: e.g. 'file:///opt/nodejs/config.js'</li>
</ul>
<p class="md-github">Mandatory file extensions are required for relative/absolute paths. Directory indexes must be fully specified (e.g. './startup/index.js').</p>
<h1 class="md-github"><a class="md-github__anchor" name="url-resolution" href="#url-resolution"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>URL RESOLUTION</h1>
<ul class="md-github">
<li class="md-github">ES modules are resolved and cached as URLs with percent-encoding for special characters (# -&gt; %23, ? -&gt; %3F).</li>
<li class="md-github">Supported URL schemes: file:, node:, data:.</li>
<li class="md-github">Use url.pathToFileURL when converting paths for import.</li>
</ul>
<h1 class="md-github"><a class="md-github__anchor" name="import-attributes" href="#import-attributes"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>IMPORT ATTRIBUTES</h1>
<ul class="md-github">
<li class="md-github">Inline syntax allows additional information in module import.</li>
<li class="md-github">Example: import fooData from './foo.json' with { type: 'json' }.</li>
<li class="md-github">JSON modules require the attribute: { type: 'json' }.</li>
</ul>
<h1 class="md-github"><a class="md-github__anchor" name="built-in-modules" href="#built-in-modules"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BUILT-IN MODULES</h1>
<ul class="md-github">
<li class="md-github">Built-in modules (like 'node:events', 'node:fs') offer named exports and default export from CommonJS.</li>
<li class="md-github">They are updated via module.syncBuiltinESMExports().</li>
</ul>
<h1 class="md-github"><a class="md-github__anchor" name="dynamic-import-and-importmeta" href="#dynamic-import-and-importmeta"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DYNAMIC IMPORT AND import.meta</h1>
<ul class="md-github">
<li class="md-github">Dynamic import() expressions load modules asynchronously, even in CommonJS.</li>
<li class="md-github">import.meta is an object available in ES modules with properties:
<ul class="md-github">
<li class="md-github">import.meta.dirname: directory name of the module (equivalent to path.dirname(import.meta.filename))</li>
<li class="md-github">import.meta.filename: absolute file path with symlinks resolved</li>
<li class="md-github">import.meta.url: absolute file: URL of the module</li>
<li class="md-github">import.meta.resolve(specifier): synchronously returns the resolved URL string</li>
</ul>
</li>
</ul>
<h1 class="md-github"><a class="md-github__anchor" name="module-resolution-algorithm" href="#module-resolution-algorithm"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MODULE RESOLUTION ALGORITHM</h1>
<p class="md-github">The resolution process consists of the following key steps:</p>
<ol class="md-github">
<li class="md-github">
<p class="md-github">ESM_RESOLVE(specifier, parentURL) returns { format, resolved }. It validates specifiers, resolves file paths and URLs, and determines module format (.mjs -&gt; module, .cjs -&gt; commonjs, .json -&gt; json).</p>
</li>
<li class="md-github">
<p class="md-github">PACKAGE_RESOLVE(packageSpecifier, parentURL) resolves bare specifiers using Node.js module resolution:</p>
<ul class="md-github">
<li class="md-github">Determines packageName and packageSubpath</li>
<li class="md-github">Uses package.json exports field if available</li>
<li class="md-github">Returns errors for invalid package target or not exported subpaths.</li>
</ul>
</li>
<li class="md-github">
<p class="md-github">Additional helper functions:</p>
<ul class="md-github">
<li class="md-github">PACKAGE_SELF_RESOLVE</li>
<li class="md-github">PACKAGE_EXPORTS_RESOLVE</li>
<li class="md-github">PACKAGE_IMPORTS_RESOLVE (for specifiers starting with &quot;#&quot;)</li>
<li class="md-github">ESM_FILE_FORMAT(url) determines the module format based on the file extension and package type.</li>
</ul>
</li>
</ol>
<h1 class="md-github"><a class="md-github__anchor" name="module-customization" href="#module-customization"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MODULE CUSTOMIZATION</h1>
<ul class="md-github">
<li class="md-github">Custom loaders can override default resolution behavior using module customization hooks.</li>
<li class="md-github">Loaders can support inline module loading via data: URLs and file: module loading with specific file extension restrictions.</li>
</ul>
<h1 class="md-github"><a class="md-github__anchor" name="history--version-changes" href="#history--version-changes"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HISTORY &amp; VERSION CHANGES</h1>
<p class="md-github">Key changes include:</p>
<ul class="md-github">
<li class="md-github">Unflagging top-level await (v14.8.0)</li>
<li class="md-github">Consolidating customization hooks (v17.0.0, v16.12.0)</li>
<li class="md-github">Removal of experimental warnings and deprecation of import assertions (v22.0.0, v23.1.0)</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="attribution" href="#attribution"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attribution</h2>
<ul class="md-github">
<li class="md-github">Source: ES Modules in Node.js Documentation</li>
<li class="md-github">URL: https://nodejs.org/api/esm.html</li>
<li class="md-github">License: MIT License</li>
<li class="md-github">Crawl Date: 2025-04-27T04:49:17.243Z</li>
<li class="md-github">Data Size: 3464457 bytes</li>
<li class="md-github">Links Found: 2684</li>
</ul>
<h2 class="md-github"><a class="md-github__anchor" name="retrieved" href="#retrieved"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retrieved</h2>
<p class="md-github">2025-04-27</p>

  </section>
  <footer>
    <p>Generated on 2025-04-30T05:23:29.506Z</p>
  </footer>
</body>
</html>