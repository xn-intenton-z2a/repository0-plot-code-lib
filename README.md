# repository0-plot-code-lib

_"Be a go-to plot library with a CLI, be the jq of formulae visualisations."_

---

## Overview

This library provides functionality to generate plots from mathematical expressions and time series data. The CLI supports generating actual function graphs by computing sample points over a specified range and rendering them as a polyline in an SVG. The PNG output is generated by converting the SVG output via sharp. Additionally, CSV based time series data input is now supported for plotting.

New in this release: You can now customize the polyline's appearance with additional CLI options --stroke-color and --stroke-width.

---

## Usage

You can run the CLI with the following options:

- --expression: A mathematical expression (e.g., "y=sin(x)").
- --range: A range specification for variables (e.g., "x=-10:10,y=-1:1").
- --csv: CSV-formatted time series data with two comma-separated values (x,y) per line. When this option is provided, the --expression and --range options are ignored.
- --file: The output filename for the generated plot. If the file has a .svg extension, an SVG plot with the rendered graph will be generated. If the file has a .png extension, the tool will generate a PNG plot by converting the SVG output.
- --stroke-color: (Optional) Custom stroke color for the plot's polyline. Defaults to blue for function plots and red for CSV plots.
- --stroke-width: (Optional) Custom stroke width for the plot's polyline. Defaults to 2.

### Example using Expression (Default styling):

To generate an SVG plot that renders a graph of the function with default styling:

    node src/lib/main.js --expression "y=sin(x)" --range "x=-10:10,y=-1:1" --file output.svg

To generate a PNG plot with default styling:

    node src/lib/main.js --expression "y=sin(x)" --range "x=-10:10,y=-1:1" --file output.png

### Example using Expression with Custom Styling:

To generate an SVG plot with a custom stroke color and width:

    node src/lib/main.js --expression "y=cos(x)" --range "x=-10:10,y=-1:1" --file custom_output.svg --stroke-color green --stroke-width 5

### Example using CSV (Default styling):

To generate an SVG plot from CSV data with default styling:

    node src/lib/main.js --csv "0,0\n5,10\n10,5" --file csv_output.svg

To generate a PNG plot from CSV data with default styling:

    node src/lib/main.js --csv "0,0\n5,10\n10,5" --file csv_output.png

### Example using CSV with Custom Styling:

To generate an SVG plot from CSV data with custom styling:

    node src/lib/main.js --csv "0,0\n5,10\n10,5" --file custom_csv_output.svg --stroke-color purple --stroke-width 3

If the --file option is provided with a filename that does not end with .svg or .png, an error message will be displayed.

---

## License

MIT
